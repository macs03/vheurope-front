<style>
.hidden-train, .hidden-bus, .hidden-plane {
  display: none;
}

.visible-chk {
  display: block !important;
}

.type-service {
    width: 120px;
    text-align: center;
}

.time-resumen-trips {
    background-color: #fff;
    min-height: 110px;
    margin-bottom: 20px;
    padding: 20px 0 15px 20px;
}
.time-resumen-trips .time-resume-trip {
    margin-bottom: 5px;
    margin-left: 5px;
}
.time-resumen-trips .time-resume-trip-price {
    padding: 5px 0 5px 40px;
   background: rgba(240,240,240,1);
background: -moz-linear-gradient(top, rgba(240,240,240,1) 0%, rgba(230,226,226,1) 100%);
background: -webkit-gradient(left top, left bottom, color-stop(0%, rgba(240,240,240,1)), color-stop(100%, rgba(230,226,226,1)));
background: -webkit-linear-gradient(top, rgba(240,240,240,1) 0%, rgba(230,226,226,1) 100%);
background: -o-linear-gradient(top, rgba(240,240,240,1) 0%, rgba(230,226,226,1) 100%);
background: -ms-linear-gradient(top, rgba(240,240,240,1) 0%, rgba(230,226,226,1) 100%);
background: linear-gradient(to bottom, rgba(240,240,240,1) 0%, rgba(230,226,226,1) 100%);
filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#f0f0f0', endColorstr='#e6e2e2', GradientType=0 );
-webkit-box-shadow: 0px 2px 4px 0px rgba(0,0,0,0.24);
    -moz-box-shadow: 0px 2px 4px 0px rgba(0,0,0,0.24);
    box-shadow: 0px 2px 4px 0px rgba(0,0,0,0.24);
}
.time-resumen-trips .time-resume-trip-price i { margin-right: 20px }
.time-resumen-trips .time-resume-trip-time {
    background-color: #0192D2;
    padding: 5px 0 5px 5px;
    color: #fff;
    text-align: center;
    -webkit-box-shadow: 0px 2px 4px 0px rgba(0,0,0,0.24);
    -moz-box-shadow: 0px 2px 4px 0px rgba(0,0,0,0.24);
    box-shadow: 0px 2px 4px 0px rgba(0,0,0,0.24);
    background: rgba(41,170,225,1);
    background: -moz-linear-gradient(top, rgba(41,170,225,1) 0%, rgba(1,147,210,1) 100%);
    background: -webkit-gradient(left top, left bottom, color-stop(0%, rgba(41,170,225,1)), color-stop(100%, rgba(1,147,210,1)));
    background: -webkit-linear-gradient(top, rgba(41,170,225,1) 0%, rgba(1,147,210,1) 100%);
    background: -o-linear-gradient(top, rgba(41,170,225,1) 0%, rgba(1,147,210,1) 100%);
    background: -ms-linear-gradient(top, rgba(41,170,225,1) 0%, rgba(1,147,210,1) 100%);
    background: linear-gradient(to bottom, rgba(41,170,225,1) 0%, rgba(1,147,210,1) 100%);
    filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#29aae1', endColorstr='#0193d2', GradientType=0 );
}

.time-resumen-trips .time-resume-trip-time.no-trips{
    background: #fff !important;
    color: #666;
    text-align: center;
    -webkit-box-shadow: none;
    -moz-box-shadow: none;
    box-shadow: none;
}

.time-resumen-trips .time-resume-trip-time span{
  font-weight: lighter;
  font-size: .9em;
  font-family: 'Ubuntu', sans-serif;
}

/* Checkbox switch */

.checkbox-switch {
  cursor: pointer;
  display: inline-block;
  overflow: hidden;
  position: relative;
  text-align: left;
  width: 60px;
  height: 30px;
  -webkit-border-radius: 30px;
  border-radius: 30px;
  line-height: 1.2;
  font-size: 14px;
}

.checkbox-switch input.input-checkbox {
  position: absolute;
  left: 0;
  top: 0;
  width: 60px;
  height: 30px;
  padding: 0;
  margin: 0;
  opacity: 0;
  z-index: 2;
  cursor: pointer;
}

.checkbox-switch .checkbox-animate {
  position: relative;
  width: 60px;
  height: 30px;
  background-color: #95a5a6;
  -webkit-transition: background 0.25s ease-out 0s;
  transition: background 0.25s ease-out 0s;
  -webkit-border-radius: 30px;
  border-radius: 30px;
}

.checkbox-switch .checkbox-animate:before {
  content: "";
  display: block;
  position: absolute;
  width: 24px;
  height: 24px;
  border-radius: 20px;
  -webkit-border-radius: 20px;
  background-color: #fff;
  top: 3px;
  left: 3px;
  -webkit-transition: left 0.3s ease-out 0s;
  transition: left 0.3s ease-out 0s;
  z-index: 10;
}

.checkbox-switch input.input-checkbox:checked + .checkbox-animate {
  background-color: #2ecc71;
}

.checkbox-switch input.input-checkbox:checked + .checkbox-animate:before {
  left: 35px;
  background-color: #fff;
}

.checkbox-switch .checkbox-off,
.checkbox-switch .checkbox-on {
  font-size: 12px;
  float: left;
  color: #fff;
  font-weight: 800;
  padding-top: 8px;
  -webkit-transition: all 0.3s ease-out 0s;
  transition: all 0.3s ease-out 0s;
}

.checkbox-switch .checkbox-off {
  margin-left: 35px;
  opacity: 1;
}

.checkbox-switch .checkbox-on {
  display: none;
  float: right;
  margin-right: 35px;
  opacity: 0;
}

.checkbox-switch input.input-checkbox:checked + .checkbox-animate .checkbox-off {
  display: none;
  opacity: 0;
}

.checkbox-switch input.input-checkbox:checked + .checkbox-animate .checkbox-on {
  display: block;
  opacity: 1;
}

</style>
<div id="popover-bg"></div>
<div class="popover-select-passengers">
    <div class="popover-select-passengers-wrapper">
        <h5 translate>PASSENGERS.TITLE</h5>
        <div class="input-group number-spinner pull-right">
            <label for="" translate>PASSENGERS.ADULTS</label>
            <span class="input-group-btn">
                <button class="btn btn-default btn-xs" data-dir="dwn" ng-click="search.updatePassengers('adult', 'dwn')">
                    <i class="fa fa-minus"></i>
                </button>
            </span>
            <input type="text" class="text-center" size="2" ng-model="search.passengersAdult">
            <span class="input-group-btn">
                <button class="btn btn-default btn-xs" data-dir="up" ng-click="search.updatePassengers('adult', 'up')">
                    <i class="fa fa-plus"></i>
                </button>
            </span>
        </div>
        <div class="input-group number-spinner pull-right">
            <label for="" translate>PASSENGERS.CHILDREN</label>
            <span class="input-group-btn">
                <button class="btn btn-default btn-xs" data-dir="dwn" ng-click="search.updatePassengers('child', 'dwn')">
                    <i class="fa fa-minus"></i>
                </button>
            </span>
            <input type="text" class="text-center"  size="2" ng-model="search.passengersChild">
            <span class="input-group-btn">
                <button class="btn btn-default btn-xs" data-dir="up" ng-click="search.updatePassengers('child', 'up')">
                    <i class="fa fa-plus"></i>
                </button>
            </span>
        </div>
        <div class="input-group number-spinner pull-right">
            <label for="" translate>PASSENGERS.BABIES</label>
            <span class="input-group-btn">
                <button class="btn btn-default btn-xs" data-dir="dwn" ng-click="search.updatePassengers('baby', 'dwn')">
                    <i class="fa fa-minus"></i>
                </button>
            </span>
            <input type="text" class="text-center" size="2" ng-model="search.passengersBaby">
            <span class="input-group-btn">
                <button class="btn btn-default btn-xs" data-dir="up" ng-click="search.updatePassengers('baby', 'up')">
                    <i class="fa fa-plus"></i>
                </button>
            </span>
        </div>
    </div>
</div>
<div id="results-container">
    <!-- VISTA FORMULARIO MOVIL -->
    <div class="container">
        <div class="row">
            <div class="col-xs-12 visible-xs text-center">
                <div class="search-mobile" ng-click="search.updateSearchMobile()">
                    <h4><b>{{ search.origin }} - {{ search.destination }}</b></h4>
                <p>{{search.trips.departureDate | date: 'EEE, MMM dd' }}  <span class="text-muted" style="margin-left: 20px"><i class="fa fa-user"></i> 1</span></p>
                    
                </div>
                
                
            </div>
        </div>
    </div>
    <!-- END VISTA FORMULARIO MOVIL -->


    <!-- Start Hero -->
    <div class="hero" id="search-page" ng-class="{'hidden': !search.searchMobile }">
        <div class="hero-img">
            <div class="hero-content">
                <!-- Start Destination Search -->
                <div class="container">
                    <div class="row">
                        <div class="col-xs-12 col-md-12">
                            <div class="row destination-search">
                                <form role="form" >
                                    <div class="row">
                                        <div class="col-xs-12 col-md-12 ">
                                            <div class="row destination-search">
                                                <div class="col-md-3 col-xs-12 np">
                                                    <selectize config='search.myConfigOrigin' options='search.myOptionsOrigin' ng-model="search.origin"></selectize>
                                                    <!-- <span class="fa fa-times clear-field vh-calendar" ng-show="search.destination"></span> -->
                                                </div>
                                                <div class="switcheroo hidden-xs hidden-sm" ng-click="search.switcher()"></div>
                                                <div class="col-md-3 col-xs-12  np">
                                                    <selectize config='search.myConfigDestination' options='search.myOptionsDestination' ng-model="search.destination"></selectize>
                                                    <!-- <span class="fa fa-times clear-field vh-calendar" ng-show="search.destination"></span> -->

                                                </div>
                                                <div class="col-md-2 col-xs-6  np nbrr" style="border-right: 1px solid #c1c1c1;">
                                                   <vhdatepicker id="departureDate" class="form-departure" ng-model="search.dates.departureDate" data-set-date="false" data-min-date="{{ search.dates.minDate }}"  data-placeholder="Ida" data-date-format="DD/MM/YYYY" data-departure-date="{{search.dates.departureDate}}" ng-disabled="search.disabled"></vhdatepicker>
                                                    <span class="fa fa-calendar departure-calendar vh-calendar"></span>
                                                    <span class="fa fa-times clear-calendar vh-calendar"></span>
                                                </div>
                                                <div class="col-md-2 col-xs-6 np nbrr" style="border-right: 1px solid #c1c1c1;">
                                                    <vhdatepicker id="returnDate" class="form-return" ng-model="search.dates.returnDate" data-min-date="{{ search.dates.minDate }}"  data-placeholder="Vuelta" data-date-format="DD/MM/YYYY" data-return-date="{{search.dates.returnDate}}" ng-disabled="search.disabled"></vhdatepicker>
                                                    <span class="fa fa-calendar return-calendar vh-calendar"></span>
                                                    <span class="fa fa-times clear-calendar vh-calendar"></span>
                                                </div>
                                                <div class="col-md-2 col-xs-12 np">
                                                    <input type="text" id="select_passengers" ng-model="search.passengers">
                                                    <span class="fa fa-users  vh-calendar" style="margin-right: 15px;"></span>
                                                </div>

                                            </div> <!-- end .row -->
                                        </div> <!-- End Destination Search -->
                                    </div>
                                 </form>
                            </div>
                        </div>
                        <!-- <div class="bg-info col-xs-12 col-md-12" ng-if="search.searching"><span>Buscando.....</span></div> -->
                        <!-- <div class="bg-danger col-xs-12 col-md-12" ng-if="search.error"><span>{{search.msgError}}</span></div> -->
                    </div> <!-- end .row-->


                </div> <!-- end container-->
            </div> <!-- end .hero-content-->
        </div> <!-- end .hero-img-->
    </div> <!-- end .hero -->

    <!-- Start Main content -->
    <div class="container" ng-show="!search.results"  style="margin-top: 80px; margin-bottom: 80px;">
        <div class="modal-backdrop" style="background: rgba(0,0,0,0.5); padding-top: 50%; ">
            <div class="modal show" id="weather-widget" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" data-backdrop="static"
                   data-keyboard="false" style="padding-top: 10%; ">
                <div class="modal-dialog" role="document">
                    <div class="modal-content" style="background-color: #fff !important;">
                        <div class="modal-body">
                            <p class="text-center" translate>SEARCH.WEATHER.TITLE_1</p><br>
                            <div class="flatWeatherPlugin today" style="background: #fff; padding: 10px;">
                                <h2>{{ search.destination }}</h2>
                                <div class="wiToday">
                                    <div class="wiIconGroup">
                                        <div class="{{ search.weather.icon }}"></div>
                                        <p class="wiText" style="text-transform: capitalize;">{{ search.weather.description }}</p>
                                    </div>
                                    <p class="wiTemperature">{{ search.weather.temp.current  }}</p>
                                </div>
                            </div>
                            <br>
                            <div class="row">
                                <div class="col-md-12 text-center">
                                    <div id="weather_progress" style="padding: 10px 20px;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="container" ng-show="search.results">
        <div class="row container-responsive" id="ida-results">
            <!-- Start Filter -->
            <div class="col-xs-12 col-md-3 no-margin no-padding" ng-hide="search.globalDirectReturnTrips.length > 0">
                <div class="filter-btn-content visible-xs">
                    <div class="row">
                        <div class="col-xs-7">
                            <span class="text-muted smallest-font">{{search.globalDirectDepartureTrips.length}} <span translate>SEARCH.FILTERS.RESULTS</span></span>
                        </div>
                        <div class="col-xs-5">
                            <button class="btn btn-block btn-xs theme-gray outline btn-filters"  translate> SEARCH.FILTERS.TITLE</button>
                        </div>
                    </div>
                </div> <!-- end .filter-btn-content -->
                <br>
                <div class="filter hidden-xs hidden-sm">
                    <div class="filter-title visible-xs">
                        <i class="fa fa-filter"></i> <span translate>SEARCH.FILTERS.TITLE</span>
                        <i class="fa fa-times right hide-filters" style="font-weigth: 300; margin-top: 4px;"></i>
                    </div>

                    <div id="map_canvas" class="hidden-xs">
                         <div gmap data-origin="{{ search.origin }}" data-destination="{{ search.destination }}"></div>
                    </div>
                    <div class="trip-info hidde-xs hidden-sm">
                        <span class="title"><i class="fa fa-info-circle"></i> <span translate>SEARCH.FILTERS.MAP_TITLE</span></span><br>
                        <span translate>SEARCH.FILTERS.MAP_DISTANCE</span> <span class="content" id="distance_gm"></span><br>
                        <span translate>SEARCH.FILTERS.MAP_DURATION</span> <span class="content">{{ search.minDuration }}</span>
                    </div>
                </div>

                <div class="filter hidden-xs hidden-sm" id="filters-container">
                    <div class="filter-header">
                        <h3 class="pull-left" translate>SEARCH.FILTERS.TITLE</h3>
                        <span class="smallest-font text-muted pull-right">{{search.globalDirectDepartureTrips.length}} <span translate>SEARCH.FILTERS.RESULTS</span></span>
                    </div>

                    <!-- Start Filter Time -->
                    <div class="contrast-title">
                        <h3 translate>
                           SEARCH.FILTERS.DEPARTURE_HOUR
                        </h3>
                    </div>

                    <div class="filter-module">
                         <input type="hidden" id="amount" readonly>
                        <div style="">
                            <rzslider
                                rz-slider-model="search.hourSlider.minValue"
                                rz-slider-high="search.hourSlider.maxValue"
                                rz-slider-options="search.hourSlider.options">
                            </rzslider>
                        </div>
                    </div>
                    <!-- End Filter Time -->

                    <!-- Start Filter Price -->
                    <div class="contrast-title">
                        <h3 translate>
                            SEARCH.FILTERS.PRICE
                        </h3>
                    </div>

                    <div class="filter-module">
                        <input type="hidden" id="mount" readonly>
                        <div>
                            <rzslider
                                rz-slider-model="search.priceSlider.price"
                                rz-slider-options="search.priceSlider.options">
                            </rzslider>
                        </div>

                    </div>
                    <!-- End Filter Price -->

                    <!-- Start Filter Seats -->
                    <div class="contrast-title">
                        <h3 translate>
                            SEARCH.FILTERS.SEAT_TYPE
                        </h3>
                    </div>

                    <div class="filter-module">
                        <ul class="list-unstyled">
                            <li ng-repeat="typeSeat in search.globalTypeServices">
                                <input class="seatType" id="seat-{{typeSeat.id}}" data="{{typeSeat.name}}" type="checkbox" ${checked} name="semi-cama" data-value="{{typeSeat.name}}" ng-click="search.seatFilter(typeSeat,search.trips.typeServices.length)" ng-model="typeSeat.checked">
                                <label for="seat-{{typeSeat.id}}" class="capitalize" >{{typeSeat.name}}</label>
                            </li>
                            <!-- <li ng-repeat="typeSeat in search.scraperSeats">
                                <input class="seatType" id="{{typeSeat.id}}" data="{{typeSeat.name}}" type="checkbox" ${checked} name="semi-cama" data-value="{{typeSeat.name}}" ng-click="search.seatFilter(typeSeat,search.trips.typeServices.length)" ng-model="typeSeat.checked">
                                <label for="{{typeSeat.id}}" class="capitalize" >{{typeSeat.name}}</label>
                            </li> 
                            <li ng-repeat="typeSeat in search.planesSeats">
                                <input class="seatType" id="seat-{{$index}}" data="{{typeSeat.name}}" type="checkbox" ${checked} name="seat-{{$index}}" data-value="{{typeSeat}}" ng-click="search.seatFilter(typeSeat,search.trips.typeServices.length)" ng-model="typeSeat.checked">
                                <label for="seat-{{$index}}" class="capitalize" >{{typeSeat.name}}</label>
                            </li> -->
                        </ul>
                    </div>
                    <!-- End Filter Seats -->

                    <!-- Start Filter Companies -->
                    <div class="contrast-title">
                        <h3 translate>
                            SEARCH.FILTERS.COMPANIES
                        </h3>
                    </div>

                    <div class="filter-module">
                        <ul class="list-unstyled">
                            <li ng-repeat="company in search.globalCompanies">
                                <input id="{{company.id}}" type="checkbox"  name="{{company.id}}" data="{{company.name}}" class="company" ng-click="search.companyFilter(company,search.trips.companies.length)" ng-model="company.checked">
                                <label for="{{company.id}}" class="capitalize" >{{company.name}}</label>
                            </li>
                            <!-- <li ng-repeat="company in search.scraperCompanies">
                                <input id="{{company.id}}" type="checkbox"  name="{{company.id}}" data="{{company.name}}" class="company" ng-click="search.companyFilter(company,search.trips.companies.length)" ng-model="company.checked">
                                <label for="{{company.id}}" class="capitalize" >{{company.nickName}}</label>
                            </li> -->
                            <li ng-repeat="company in search.planesCompanies">
                                <input id="company-{{$index}}" type="checkbox"  name="company-{{$index}}" data="{{company.name}}" class="company" ng-click="search.companyFilter(company,search.trips.companies.length)" ng-model="company.checked">
                                <label for="company-{{$index}}" class="capitalize" >{{company.name}}</label>
                            </li>
                        </ul>
                    </div>
                    <!-- End Filter Companies -->
                    <!-- Btn Close Filters -->
                    <button class="btn btn-block theme-green visible-xs btn-filters"></i> <span translate>SEARCH.FILTERS.TITLE</span></button>
                </div>
                <!-- End Filter -->
            </div>
            <!-- End colums -->


            


            <!-- Start Results -->

            <div class="col-xs-12 col-md-9 conttainer-results" ng-class="{'col-md-12' : search.globalDirectReturnTrips.length > 0}">
                
                <h5 class="hidden-xs" ng-show="search.globalDirectDepartureTrips.length > 0 && search.globlaDirectReturnTrips.length == 0">
                  <span translate>SEARCH.TRIPS.ROUND</span>: {{search.trips.length}} <span translate>SEARCH.TRIPS.RESULTS</span> {{search.trips.departureDate | date: 'EEE, MMM dd' }}
                </h5>

                <h5 class="hidden-xs hidden-sm"  ng-show="search.globalMixedTrips.length > 0">
                    <span translate>Viajes</span> <small><span translate>Compuestos</span></small> {{search.globalMixedTrips.length}} <span translate>SEARCH.TRIPS.RESULTS</span>
                </h5>

                <!-- RESUMEN DE TIEMPO DE VIAJES -->
                
                <div class="time-resumen-trips hidden-xs hidden-sm" ng-show="search.hasTrainTrips || search.hasBusTrips || search.hasPlaneTrips">
                    <div class="row time-resume-trip" ng-hide="search.isMixedTrips">
                        <div class="col-md-3 time-resume-trip-price">
                            <i class="fa fa-bus text-muted"></i>  
                            <b ng-show="search.hasBusTrips">{{ search.lowestPriceBus | currency : '' }} €</b>
                            <b ng-show="!search.hasBusTrips && !search.searchingTripsBus">N/A</b>
                        </div>
                        <div class="col-md-9 time-resume-trip-time" ng-class="{'no-trips':!search.hasBusTrips}" style="width: {{ search.percentageBus  }}%;">
                            <span ng-show="search.hasBusTrips">{{ search.getHourMinPlanes(search.lowestDurationBus) }}</span>
                            <span class="pull-left" ng-show="!search.hasBusTrips && !search.searchingTripsBus" translate>SEARCH.NO_DEPARTURES</span>
                            <span ng-show="!search.hasBusTrips && search.searchingTripsBus"> <img src="https://s3.eu-central-1.amazonaws.com/vheurope/495.gif" alt="Buscando" width="16" style="margin-right: 10px"> Buscando...</span>
                        </div>
                    </div>
                    
                    <div class="row time-resume-trip">
                        <div class="col-md-3 time-resume-trip-price">
                            <i class="fa fa-train text-muted"></i>  
                            <b ng-show="search.hasTrainTrips">{{ search.lowestPriceTrain | currency : '' }} €</b>
                            <b ng-show="!search.hasTrainTrips && !search.searchingTripsTrain">N/A</b>
                        </div>
                        <div class="col-md-9 time-resume-trip-time" ng-class="{'no-trips':!search.hasTrainTrips}" style="width: {{ search.percentageTrain  }}%;">
                            <span ng-show="search.hasTrainTrips">{{ search.getHourMinPlanes(search.lowestDurationTrain) }}</span>
                            <span class="pull-left" ng-show="!search.hasTrainTrips && !search.searchingTripsTrain" translate>SEARCH.NO_DEPARTURES</span>
                            <span ng-show="!search.hasTrainTrips && search.searchingTripsTrain"> <img src="https://s3.eu-central-1.amazonaws.com/vheurope/495.gif" alt="Buscando" width="16" style="margin-right: 10px"> Buscando...</span>
                        </div>
                    </div>
                    <div class="row time-resume-trip">
                        <div class="col-md-3 time-resume-trip-price">
                            <i class="fa fa-plane text-muted"></i>  
                            <b ng-show="search.hasPlaneTrips">{{ search.lowestPricePlane | currency : '' }} €</b>
                            <b ng-show="!search.hasPlaneTrips && !search.searchingTripsPlane">N/A</b>
                        </div>
                        <div class="col-md-9 time-resume-trip-time" ng-class="{'no-trips':!search.hasPlaneTrips}" style="width:{{ search.percentagePlane }}%;">
                            <span ng-show="search.hasPlaneTrips">{{ search.getHourMinPlanes(search.lowestDurationPlane) }}</span>
                            <span  class="pull-left" ng-show="!search.hasPlaneTrips && !search.searchingTripsPlane" translate>SEARCH.NO_DEPARTURES</span>
                            <span ng-show="!search.hasPlaneTrips && search.searchingTripsPlane"> <img src="https://s3.eu-central-1.amazonaws.com/vheurope/495.gif" alt="Buscando" width="16" style="margin-right: 10px"> Buscando...</span>
                        </div>
                    </div>
                    
                </div>
                
                <!-- FIN RESUMEN DE TIEMPO DE VIAJES -->

                <!-- FILTROS -->
                <div class="row header-results hidden-xs hidden-sm" ng-show="(search.hasTrainTrips || search.hasBusTrips || search.hasPlaneTrips) && search.globalAlternativeTrips.length == 0">

                    <div class="col-md-3 sort sort-trips bl bt bb" ng-class="{active:search.type === 'departure'}" data-sort="departure" ng-click="search.order('departure')">
                        <span translate>SEARCH.SORT.HORARY</span>
                        <span class="sort" ng-class="{desc:search.reverse,asc:!search.reverse}" ng-show="search.type === 'departure'"></span>
                    </div>
                    <div class="col-md-3  sort sort-trips bl bt bb" ng-class="{active:search.type === 'price'}" data-sort="price" ng-click="search.order('price')">
                        <span translate>SEARCH.SORT.PRICE</span>
                        <span class="sort" ng-class="{desc:search.reverse,asc:!search.reverse}" ng-show="search.type === 'price'"></span>
                    </div>
                    <div class="col-md-3  sort sort-trips bl bt bb" ng-class="{active:search.type === 'durationMinutes'}" data-sort="company" ng-click="search.order('durationMinutes')">
                        <span style="margin-left:6px;" translate>SEARCH.SORT.DURATION</span>
                        <span class="sort" ng-class="{desc:search.reverse,asc:!search.reverse}" ng-show="search.type === 'durationMinutes'"></span>
                    </div>

                    <div class="col-md-3  sort sort-trips bl bt bb br" ng-class="{active:search.type === 'companyName'}" data-sort="company" ng-click="search.order('companyName')">
                        <span style="margin-left:6px;" translate>SEARCH.SORT.COMPANY</span>
                        <span class="sort" ng-class="{desc:search.reverse,asc:!search.reverse}" ng-show="search.type === 'companyName'"></span>
                    </div>
                </div> <!-- end .row -->

                <!-- FIN FILTROS -->

                <!-- PESTAÑAS DE RESULTADOS -->
               
                <div class="row tabs-filter" ng-show="search.globalDirectReturnTrips.length == 0 || search.isMixedTrips" >
                    <div class="col-md-3 np hidden-xs">
                        <div class="row chk-input" ng-class="{'visible-chk': search.showCombineTrips }" >
                            <div class="col-md-6">
                                 <small class="pull-right text-muted">Combinar</small>
                            </div>
                            <div class="col-md-6">
                                <div class="checkbox-switch">
                                    <input type="checkbox" checked=""  value="1" name="status" class="input-checkbox" id="combine-trips" ng-model="search.combineTrips">
                                    <div class="checkbox-animate">
                                        <span class="checkbox-off">No</span>
                                        <span class="checkbox-on">Si</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                       
                    </div>
                    <div class="col-md-2 col-xs-4 np-tab pr5" ng-show="search.hasBusTrips">
                        <div class="tab-filter active tab_bus" data-type="bus" id="tab_bus" ng-click="search.showTripsType('bus')"  >
                            <i class="fa fa-bus fa-2x"></i>
                            <span class="text-muted hidden-md hidden-lg"><small>DESDE {{ search.trips.lowest.bus.price | currency : '' }} €</small></span>
                        </div>
                    </div>
                    <div class="col-md-2 col-xs-4 np-tab pl0" ng-show="search.hasTrainTrips">
                        <div class="tab-filter tab_train" data-type="train" id="tab_train" ng-click="search.showTripsType('train')" >
                            <i class="fa fa-train fa-2x"></i>
                            <span class="text-muted hidden-md hidden-lg"><small>DESDE {{ search.trips.lowest.train.price | currency : '' }} €</small></span>
                        </div>
                    </div>
                     <div class="col-md-2 col-xs-4 np-tab pr5 pl0" ng-show="search.hasPlaneTrips">
                        <div class="tab-filter tab_plane" data-type="plane" id="tab_plane" ng-click="search.showTripsType('plane')" >
                            <i class="fa fa-plane fa-2x"></i>
                            <span class="text-muted hidden-md hidden-lg"><small>DESDE {{ search.lowestPricePlane | currency : '' }} €</small></span>
                        </div>
                    </div>
                    
                </div>
                
                <!-- END PESTAÑAS DE RESULTADOS -->
                
                <!-- SIN RESULTADOS -->
                <!-- En el ng-show tenia && search.scraperTrips.tickets.length == 0 pero no me da ningun resultado esto -->
                <div class="row" ng-show="search.globalDirectDepartureTrips.length == 0 && search.globalAlternativeTrips.length == 0 && !search.isMixedTrips && !search.hasPlaneTrips && !search.hasBusTrips && !search.hasTrainTrips" >
                

                    <div class="col-md-12">
                        <h4 translate>SEARCH.NO_RESULTS.TITLE</h4>
                        <p translate>SEARCH.NO_RESULTS.MESSAGE</p>
                        <br>
                         <div class="col-md-6 col-xs-12">
                            <button class="btn btn-block theme-fucsia" ng-click="search.nextDay()" translate>SEARCH.NO_RESULTS.FIND_NEXT_DAY</button>
                        </div>
                    </div>
                </div>
                <!-- FIN SIN RESULTADOS -->

                <!-- BUSQUEDA SOLO IDA -->

                <div id="single-results" ng-show="search.globalDirectReturnTrips.length == 0 || (search.hasPlaneTrips && search.globalDirectReturnTrips.length == 0)" ng-hide="search.combineTrips">
                    <div class="" id="tramo-{{$index}}" ng-repeat="trips in search.globalDirectDepartureTrips" ng-init="outindex = $index">
                        <br/ ng-show="$index == 1">
                        <h5 class="hidden-xs" ng-show="search.globalDirectDepartureTrips.length > 1">
                            <span translate>CANCEL.SECTION</span>: {{$index + 1}}
                        </h5>
                        
                        <div class="change-departure" ng-show="search.idIda_1 != 0" style="margin-bottom: .3em;">
                            <a class="text-fucsia" style="cursor:pointer;" ng-click="search.resetFirstSetep(1)"><strong><span translate>Cambia billete del primer tramo</span></strong></a>
                        </div>
                        
                        <div class="new-results" id="new-results-tickeables">
                            <div class="results list" id="trips_tickeables" >

                                <div class="row result nu" data-type="{{ trip.transportType }}" id={{trip.id}} ng-class="{'hidden-train': !search.showTrain  && trip.transportType == 'train', 'hidden-bus': !search.showBus  && trip.transportType == 'bus', 'hidden-plane': !search.showPlane  && trip.transportType == 'plane'}"  ng-repeat="trip in trips | orderBy:search.typeDeparture:search.reverseDeparture | companyFilter:search.companies | seatFilter:search.seats | priceFilter: search.priceSlider.price | hourFilter : search.hourSlider.minValue : search.hourSlider.maxValue" >
                                 <div class="ribbon-wrapper" ng-show="trip.hasPromotion == true"><div class="ribbon">PROMO</div></div>
                                <div class="row" >
                                    <div class="col-md-3 hidden-xs hidden-sm">
                                        <img ng-src={{trip.logo}} title="{{trip.companyName}}" class="logo_small hidden-xs hidden-sm"><br>
                                        <p class="truncate"><small class="text-muted smallest-font">{{trip.companyName}}</small></p>
                                    </div>

                                    <div class="col-md-3 col-xs-4 col-sm-4 tacm">
                                      <p class="vh-pull-right">
                                        <strong>{{ search.millisToUTCDate(trip.departure) | date:'HH:mm'}}</strong>
                                        <small class="smallest-font text-muted-dark hidden-xs hidden-sm italic">{{search.trips.origin}}</small>
                                        <br>
                                        <small class="text-muted smallest-font hidden-xs hidden-sm capitalize terminals truncate">{{trip.origin}}</small>
                                      </p>
                                    </div>

                                    <div class="col-xs-4 col-sm-4  visible-xs visible-sm  text-center">
                                        <p class="approximate-time text-muted smallest-font">{{trip.duration}}.</p>
                                    </div>

                                    <div class="col-md-3 col-xs-4 col-sm-4 tacm">
                                      <p class="vh-pull-right">
                                        <strong>{{ search.millisToUTCDate(trip.arrival) | date:'HH:mm'}}</strong>
                                        <small class="smallest-font text-muted-dark hidden-xs hidden-sm italic">{{search.trips.destination}}</small>
                                        <br>
                                        <small class="text-muted smallest-font hidden-xs hidden-sm capitalize terminals truncate">{{trip.destination}}</small>
                                      </p>
                                    </div>

                                    <div class="col-md-3 hidden-xs hidden-sm">
                                        <p class="pull-right">
                                          <strong class="price-full">{{trip.price | currency : '' }} €</strong>
                                          <span class="pull-right type-service">
                                            <small class="text-muted smallest-font" style="margin-top: -10px;">{{trip.typeService}}</small>
                                          </span>
                                        </p>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-xs-4 col-sm-4 hidden-md hidden-lg">
                                        <img ng-src={{trip.logo}} title="{{trip.companyName}}" class="logo_small">
                                        <br>
                                        <small class="text-muted hidden-xs hidden-sm" style="margin-left: 25px;">Directo</small>
                                    </div>
                                       
                                    <div class="col-md-6 col-xs-4 col-sm-4 tacm">
                                       <!--
                                        <div class="arrow-box hidden-xs hidden-sm">
                                            <span class=" hidden-xs hidden-sm">{{trip.duration}}.</span> 
                                        </div>
                                        -->
                                        <div class="row hidden-xs hidden-sm">
                                          <div class="col-md-3">
                                            <small class="text-muted-dark">
                                              {{trip.duration}}
                                            </small>
                                          </div>
                                          <div class="col-md-9">
                                            <ul class="timeline hidden-xs hidden-sm">

                                              <li class="li complete" ng-repeat="n in search.getTripsSteps(search.trips.maxDuration, trip.durationMinutes) ">
                                                <div class="timestamp"></div>
                                                <div class="status no-scale {{ trip.transportType }}" ng-class="{'last':$last}"></div>
                                              </li>
                                              <small class="hidden-xs hidden-sm" style="margin-top: 18px;margin-left: 20px;">Directo</small>
                                            </ul> 
                                          </div>
                                        </div>
                                           
                                      
                                        
                                        <!--<i class="fa fa-chevron-circle-down fa-2x text-theme-green hidden-md hidden-lg"></i> -->

                                        <a href="{{trip.url}}" ng-show="search.globalDirectDepartureTrips.length == 1 && trip.transportType == 'bus' && trip.url.length > 0" class=""><i class="fa fa-chevron-circle-down fa-2x text-theme-green hidden-md hidden-lg"></i></a>

                                        <a href="#/seat/{{trip.id}}/-1" ng-show="search.globalDirectDepartureTrips.length == 1 && trip.transportType == 'bus' && trip.url == null" class=""><i class="fa fa-chevron-circle-down fa-2x text-theme-green hidden-md hidden-lg"></i></a>

                                        <div ng-class="{'disable-box':search.selectMixTrip}" >
                                            <a href="" ng-show="outindex == 0 && search.globalDirectDepartureTrips.length > 1 && trip.transportType == 'bus'" class="" ng-click="search.firstStep(trip.id,1,trip.origin,trip.destination,trip.departure,trip.duration,trip.arrival)"><i class="fa fa-chevron-circle-down fa-2x text-theme-green hidden-md hidden-lg"></i></a>
                                            <a href="" ng-show="outindex == 0 && search.globalDirectDepartureTrips.length > 1 && trip.transportType == 'ship'" class="" ng-click="search.firstStep(trip.id,1,trip.origin,trip.destination,trip.departure,trip.duration,trip.arrival)"><i class="fa fa-chevron-circle-down fa-2x text-theme-green hidden-md hidden-lg"></i></a>
                                        </div>

                                        <div ng-class="{'disable-box':!search.selectMixTrip || search.dateIda_1 > trip.departure}">
                                            <a href="#/seat/{{search.idIda_1}}~{{trip.id}}/-1" ng-show="outindex == 1 && search.globalDirectDepartureTrips.length > 1 && trip.transportType == 'bus'"><i class="fa fa-chevron-circle-down fa-2x text-theme-green hidden-md hidden-lg"></i></a>
                                            <a href="#/seat/{{search.idIda_1}}~{{trip.id}}/-1" ng-show="outindex == 1 && search.globalDirectDepartureTrips.length > 1 && trip.transportType == 'ship'"><i class="fa fa-chevron-circle-down fa-2x text-theme-green hidden-md hidden-lg"></i></a>
                                        </div>

                                         <!-- BOTON PARA TREN-->
                                      <a href="{{ trip.url }}" ng-show="trip.transportType == 'train'" class="" target="_blank"><i class="fa fa-chevron-circle-down fa-2x text-theme-green hidden-md hidden-lg"></i></a>

                                    </div>

                                    <div class="col-md-3 hidden-xs hidden-sm">
                                        <i class="fa fa-2x pull-right text-theme-blue fa-trip-type hidden" ng-class="{'fa-bus': trip.transportType == 'bus','fa-train': trip.transportType == 'train'}" style="margin-left: 20px;margin-top: 10px;"></i>
                                    </div>

                                    <div class="col-md-3 col-xs-4 col-sm-4 tacm">

                                      <a href="{{trip.url}}" target="_blank" ng-show="search.globalDirectDepartureTrips.length == 1 && trip.transportType == 'bus' && trip.url.length > 0" class="btn theme-blue-2 hidden-xs hidden-sm pull-right" translate>SEARCH.TRIPS.BUTTON</a>
                                      <a href="#/seat/{{trip.id}}/-1" ng-show="search.globalDirectDepartureTrips.length == 1 && trip.transportType == 'bus' && trip.url == null" class="btn theme-blue-2 hidden-xs hidden-sm pull-right" translate>SEARCH.TRIPS.BUTTON</a>
                                      <div ng-class="{'disable-box':search.selectMixTrip}">
                                            <a href="" ng-show="outindex == 0 && search.globalDirectDepartureTrips.length > 1 && trip.transportType == 'bus'" class="btn theme-blue-2 hidden-xs hidden-sm pull-right" ng-click="search.firstStep(trip.id,1,trip.origin,trip.destination,trip.departure,trip.duration,trip.arrival)" translate>SEARCH.TRIPS.BUTTON</a>
                                            <a href="" ng-show="outindex == 0 && search.globalDirectDepartureTrips.length > 1 && trip.transportType == 'ship'" class="btn theme-blue-2 hidden-xs hidden-sm pull-right" ng-click="search.firstStep(trip.id,1,trip.origin,trip.destination,trip.departure,trip.duration,trip.arrival)" translate>SEARCH.TRIPS.BUTTON</a>
                                      </div>

                                      <div ng-class="{'disable-box':!search.selectMixTrip || search.dateIda_1 > trip.departure}">
                                          <a href="#/seat/{{search.idIda_1}}~{{trip.id}}/-1" ng-show="outindex == 1 && search.globalDirectDepartureTrips.length > 1 && trip.transportType == 'ship'" class="btn theme-blue-2 hidden-xs hidden-sm pull-right" translate>SEARCH.TRIPS.BUTTON</a>
                                          <a href="#/seat/{{search.idIda_1}}~{{trip.id}}/-1" ng-show="outindex == 1 && search.globalDirectDepartureTrips.length > 1 && trip.transportType == 'bus'" class="btn theme-blue-2 hidden-xs hidden-sm pull-right" translate>SEARCH.TRIPS.BUTTON</a>
                                      </div>

                                      <!-- BOTON PARA TREN-->
                                      <a href="{{ trip.url }}" target="_blank" ng-show="trip.transportType == 'train'" class="btn theme-blue-2 hidden-xs hidden-sm pull-right" translate>SEARCH.TRIPS.BUTTON</a>

                                      <strong class="price hidden-md hidden-lg">{{trip.price | currency : '' }} €</strong>
                                    </div>
                                </div>
                            </div>
                            </div>  <!-- end .results-->
                        </div>   <!-- end .new-results -->
                    </div> 

                    <!-- AVIONES -->
                          <div class="new-results" id="new-results-tickeables" ng-show="search.planesFlag && !search.combineTrips">
                            <div class="results list" id="trips_tickeables" >
                                <div class="row result nu" data-type="plane" ng-class="{'hidden-plane': !search.showPlane  && trip.transportation == 'airplane', 'hidden-bus': !search.showBus  && trip.transportation == 'bus'}" id="{{$index}}" ng-repeat="trip in search.planesTrips | orderBy:search.typeDeparturePlanes:search.reverseDeparture | companyScraperFilter:search.companies | seatScraperFilter:search.seats | priceScraperFilter: search.priceSlider.price" >
                                <div class="row">
                                    <div class="col-md-3 hidden-xs hidden-sm">
                                        <img ng-src="{{ trip.enterprise__image }}" title="{{ trip.enterprise__name }}" class="logo_small hidden-xs hidden-sm" ><br>
                                        <small class="text-muted smallest-font truncate">{{ trip.enterprise__name }}</small>
                                    </div>

                                    <div class="col-md-3 col-xs-4 col-sm-4 tacm">
                                       <p class="pull-right">
                                        <strong>{{ search.millisToUTCDate(trip.start*1000) | date:'HH:mm'}}</strong>
                                        <small class="smallest-font text-muted-dark hidden-xs hidden-sm italic">{{ trip.origin }}</small>
                                        <br>
                                        <small class="text-muted smallest-font hidden-xs hidden-sm capitalize terminals">{{ trip.origin }}</small>
                                      </p>
                                    </div>

                                    <div class="col-xs-4 col-sm-4  visible-xs visible-sm  text-center">
                                        <p class="approximate-time text-muted smallest-font">{{ search.getHourMinPlanes(trip.duration) }}</p>
                                    </div>

                                    <div class="col-md-3 col-xs-4 col-sm-4 tacm">
                                       <p class="pull-right">
                                        <strong>{{ search.millisToUTCDate(trip.end*1000) | date:'HH:mm'}}</strong>
                                        <small class="smallest-font text-muted-dark hidden-xs hidden-sm italic">{{ trip.destination }}</small>
                                        <br>
                                        <small class="text-muted smallest-font hidden-xs hidden-sm capitalize terminals">{{ trip.destination }}</small>
                                      </p>
                                    </div>

                                    <div class="col-md-3 text-center hidden-xs hidden-sm">
                                      <p class="pull-right">
                                          <strong class="price-full">{{trip.price | currency : '' }} €</strong>
                                          <span class="pull-right type-service">
                                            <small class="text-muted smallest-font" style="margin-top: -10px;">{{ trip.type__name }}</small>
                                          </span>
                                        </p>

                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-xs-4 col-sm-4 hidden-md hidden-lg">
                                        <img ng-src="{{ trip.enterprise__image }}" title="{{ trip.enterprise__name }}" class="logo_small">
                                        <br>
                                        <small class="text-muted hidden-xs hidden-sm" style="margin-left: 25px;">
                                            <span ng-show="trip.segments.length == 1">Directo</span>
                                            <span ng-show="trip.segments.length > 1">{{ trip.segments.length - 1 }} Escalas</span>
                                        </small>
                                    </div>

                                    <div class="col-md-6 col-xs-4 col-sm-4 tacm">
                                        
                                        <div class="row hidden-xs hidden-sm">
                                          <div class="col-md-3">
                                            <small class="text-muted-dark">
                                              {{ search.getHourMinPlanes(trip.duration) }}
                                            </small>
                                          </div>
                                          <div class="col-md-9">
                                            <ul class="timeline hidden-xs hidden-sm">

                                              <li class="li complete" ng-repeat="n in search.getPlanesSteps(trip.segments.length)">
                                                <div class="timestamp"></div>
                                                <div class="status plane" ng-class="{'scale': trip.segments.length > 1, 'no-scale': trip.segments.length == 1}"></div>
                                              </li>
                                              <li class="li complete">
                                                <div class="timestamp"></div>
                                                <div class="status plane last" ></div>
                                              </li>
                                              <small class="hidden-xs hidden-sm" style="margin-top: 18px;margin-left: 20px;"> 
                                                <span ng-show="trip.segments.length == 1">Directo</span>
                                                <span ng-show="trip.segments.length > 1">{{ trip.segments.length - 1 }} Escalas</span>
                                              </small>
                                            </ul> 
                                          </div>
                                        </div> 




                                       
                                        <i class="fa fa-chevron-circle-down fa-2x text-theme-green hidden-md hidden-lg " data-trip-id="{{$index}}" ng-click="search.tripDetails($event)"></i>
                                    </div>

                                    <div class="col-md-3 hidden-xs hidden-sm">
                                        <i class="fa fa-2x pull-right text-theme-blue fa-trip-type hidden" ng-class="{'fa-plane': trip.transportation == 'airplane', 'fa-bus': trip.transportation == 'bus'}" style="margin-left: 20px;margin-top: 10px;"></i>
                                        <small class="text-muted smallest-font pull-right hidden-lg hidden-md" style="margin-top: 20px;">{{ trip.type__name }}</small>
                                    </div>

                                    <div class="col-md-3 col-xs-4 col-sm-4">
                                        <button data-trip-id="{{$index}}" ng-click="search.tripDetails($event)" class="btn theme-blue-2 hidden-xs hidden-sm pull-right" translate>Elegir</button>
                                        <strong class="price hidden-md hidden-lg">{{trip.price | currency : '' }} €</strong>
                                    </div>
                                </div>
                                <div class="row" style="margin-top: 30px; display: none;" id="trip_details_{{$index}}">
                                    <div class="timeline-centered">
                                        <article class="timeline-entry right-aligned" ng-repeat="segment in trip.segments">
                                            <div class="timeline-entry-inner">
                                                <time class="timeline-time" datetime="2014-01-10T03:45">
                                                    <span>{{ search.millisToUTCDate(segment.start*1000) | date:'HH:mm'}}</span>
                                                    <span>{{ search.millisToUTCDate(segment.start*1000) | date:'EEE, dd MMM'}}</span>
                                                </time>
                                                <div class="timeline-icon bg-theme-blue">
                                                    <i class="fa fa-plane"></i>
                                                </div>
                                                <div class="timeline-label">
                                                    <h2>{{ segment.origin }}</h2>
                                                    <p>
                                                        <b>{{ segment.enterprise__name }}</b> | Vuelo No: <b>{{ segment.number }}</b>
                                                        <span class="label label-default pull-right"><b>{{ search.getHourMinPlanes(segment.duration) }}</b></span>
                                                        <br>
                                                        <b>{{ search.millisToUTCDate(segment.start*1000) | date:'HH:mm'}}</b> <i class="fa fa-angle-right"></i> <b>{{ search.millisToUTCDate(segment.end*1000) | date:'HH:mm'}}</b>
                                                    </p>
                                                </div>
                                                <div class="timeline-sublabel">
                                                    <p class="text-muted smallest-font hidden">
                                                      <i class="fa fa-clock-o"></i> Layover in Concepcion for 1h 26min <br>
                                                      <i class="fa fa-suitcase"></i> Recheck of checked luggage needed
                                                    </p>
                                                </div>

                                            </div>
                                        </article>

                                        <article class="timeline-entry begin">
                                            <div class="timeline-entry-inner">
                                                <time class="timeline-time" datetime="2014-01-10T03:45">
                                                    <span>{{ search.millisToUTCDate(trip.end*1000) | date:'HH:mm'}}</span>
                                                    <span>{{ search.millisToUTCDate(trip.end*1000) | date:'EEE, dd MMM'}}</span>
                                                </time>
                                                <div class="timeline-icon">

                                                </div>
                                                <div class="timeline-label">
                                                    <h2>{{ trip.destination }}</h2>
                                                </div>

                                            </div>
                                        </article>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-12 col-xs-12">
                                             <a href="{{ trip.redirect }}" class="btn theme-fucsia pull-right" style="margin-right: 20px;" translate>SEARCH.TRIPS.BUTTON</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                          </div>
                        </div>
                    </div> <!-- end #single-results -->

                        




                <div class="row  container-responsive" id="ida-vuelta-results" ng-show="search.trips.directReturnTrips.length > 0">
                    <h2 class="text-fucsia" ng-show="search.selectDeparture"><span translate>SEARCH.SELECTED_TRIP.TITLE_1</span>  <small class="text-fucsia"><span translate>SEARCH.SELECTED_TRIP.TITLE_2</span></small></h2>
                    <h2 class="text-fucsia" ng-show="!search.selectDeparture"><span translate>SEARCH.SELECTED_TRIP.TITLE_3</span>  <small class="text-fucsia"><span translate>SEARCH.SELECTED_TRIP.TITLE_4</span></small></h2>
                    <div class="col-xs-12 col-md-6 conttainer-results">
                        <h5 class="hidden-xs" ng-show="!search.selectDeparture">
                            <span class="way"><span translate>SEARCH.SELECTED_TRIP.TITLE_5</span></span>
                        </h5>
                        <div class="new-results-selected" style="margin-bottom:2em;" ng-show="!search.selectDeparture && search.trips.directDepartureTrips.length > 1">
                            <div class="results" id="selected-trip-container" >
                                <div class="row result result-iv">
                                    <div class="col-md-5 col-xs-4 col-sm-4 c-departure nbt" style="border-bottom: 1px solid #bbb; height:70px;">
                                        <strong>{{ search.millisToUTCDate(search.departureDeparture_1)| date:'HH:mm'}}</strong>
                                        <span class="smallest-font nowrap text-fucsia">{{search.trips.origin}}</span>
                                        <br>
                                        <small class="text-muted smallest-font hidden-xs hidden-sm  capitalize terminals"  style="display:block;">{{search.departureOrigin_1}}</small>
                                    </div>

                                    <div class="col-xs-4 col-sm-4 c-approximate-time visible-xs visible-sm nbt text-center">
                                        <p class="approximate-time text-muted smallest-font">{{search.departureDuration_1}}.</p>
                                    </div>

                                    <div class="col-md-4 col-xs-4 col-sm-4 c-arrival nbt" style="border-bottom: 1px solid #bbb;">
                                        <strong>{{ search.millisToUTCDate(search.departureArrival_1) | date:'HH:mm'}}</strong>
                                        <small class="smallest-font dbm text-fucsia">{{search.trips.destination}}</small>
                                        <small class="text-muted smallest-font hidden-xs hidden-sm capitalize terminals"  style="display:block;">{{search.departureDestination_1}}</small>
                                    </div>

                                    <div class="col-md-3 col-xs-4 col-sm-4 c-seat-type nbt" style="border-bottom: 1px solid #bbb;">
                                        <strong class="text-fucsia">{{search.departurePrice_1 | currency : '' }} €</strong>
                                        <small class="text-muted smallest-font hidden-xs hidden-sm" style="display:block;">{{search.departureTypeService_1}}</small>
                                    </div>

                                    <div class="col-md-5 col-xs-4 col-sm-4 c-company nbt text-center">
                                        <small class="text-muted smallest-font company">{{search.departureCompanyName_1}}</small>
                                    </div>

                                    <div class="col-md-4 col-xs-3 col-sm-4 c-approximate-time hidden-xs hidden-sm nbt">
                                        <img ng-src={{search.departureLogo_1}} title="{{search.departureCompanyName}}" class="logo-iv hidden-xs hidden-sm">
                                        <p class="text-muted smallest-font"><i class="fa fa-clock-o"></i>{{search.departureDuration_1}}.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="new-results-selected" style="margin-bottom:2em;" ng-show="!search.selectDeparture">
                            <div class="results" id="selected-trip-container" >
                                <div class="row result result-iv">
                                    <div class="col-md-5 col-xs-4 col-sm-4 c-departure nbt" style="border-bottom: 1px solid #bbb; height:70px;">
                                        <strong>{{ search.millisToUTCDate(search.departureDeparture)| date:'HH:mm'}}</strong>
                                        <span class="smallest-font nowrap text-fucsia">{{search.trips.origin}}</span>
                                        <br>
                                        <small class="text-muted smallest-font hidden-xs hidden-sm  capitalize terminals"  style="display:block;">{{search.departureOrigin}}</small>
                                    </div>

                                    <div class="col-xs-4 col-sm-4 c-approximate-time visible-xs visible-sm nbt text-center">
                                        <p class="approximate-time text-muted smallest-font">{{search.departureDuration}}.</p>
                                    </div>

                                    <div class="col-md-4 col-xs-4 col-sm-4 c-arrival nbt" style="border-bottom: 1px solid #bbb;">
                                        <strong>{{ search.millisToUTCDate(search.departureArrival) | date:'HH:mm'}}</strong>
                                        <small class="smallest-font dbm text-fucsia">{{search.trips.destination}}</small>
                                        <small class="text-muted smallest-font hidden-xs hidden-sm capitalize terminals"  style="display:block;">{{search.departureDestination}}</small>
                                    </div>

                                    <div class="col-md-3 col-xs-4 col-sm-4 c-seat-type nbt" style="border-bottom: 1px solid #bbb;">
                                        <strong class="text-fucsia">{{search.departurePrice | currency : '' }} €</strong>
                                        <small class="text-muted smallest-font hidden-xs hidden-sm" style="display:block;">{{search.departureTypeService}}</small>
                                    </div>

                                    <div class="col-md-5 col-xs-4 col-sm-4 c-company nbt text-center">
                                        <small class="text-muted smallest-font company">{{search.departureCompanyName}}</small>
                                    </div>

                                    <div class="col-md-4 col-xs-3 col-sm-4 c-approximate-time hidden-xs hidden-sm nbt">
                                        <img ng-src={{search.departureLogo}} title="{{search.departureCompanyName}}" class="logo-iv hidden-xs hidden-sm">
                                        <p class="text-muted smallest-font"><i class="fa fa-clock-o"></i>{{search.departureDuration}}.</p>
                                    </div>
                                </div>
                            </div>
                            <div class="change-departure">
                                <a class="text-fucsia" style="cursor:pointer;" ng-click="search.departureSelect()"><strong><span translate>SEARCH.SELECTED_TRIP.TITLE_6</span></strong></a>
                            </div>
                        </div>
                        <div class="" id="tramo-ida-{{$index}}" ng-repeat="trips in search.trips.directDepartureTrips" ng-init="outindex = $index">
                            <br/ ng-show="$index == 1">
                            <h5 class="hidden-xs" ng-show="search.trips.directDepartureTrips.length > 1">
                                <span translate>CANCEL.SECTION</span>: {{$index + 1}}
                            </h5>
                            <h5 class="hidden-xs hidden-sm" ng-class="{'disable-box':!search.selectDeparture}">
                                <span class="way" translate>SEARCH.TRIPS.ROUND</span>: {{trips.length}}  <span translate>SEARCH.TRIPS.RESULTS</span> {{search.trips.departureDate | date: 'EEE, MMM dd' }}
                            </h5>
                            <div class="change-departure" ng-show="search.idIda_1 != 0 && search.selectDeparture" style="margin-bottom: .3em;">
                                <a class="text-fucsia" style="cursor:pointer;" ng-click="search.resetFirstSetep(2)"><strong><span translate>Cambia billete del primer tramo</span></strong></a>
                            </div>
                              <!-- PESTAÑAS DE RESULTADOS -->
                              <div class="row tabs-filter" >
                                  
                                  <div class="col-md-2 col-xs-4 np-tab pr5 col-md-offset-3">
                                      <div class="tab-filter active tab_bus" data-type="bus" id="tab_bus" ng-click="search.showTripsType('bus')" ng-show="search.hasBusTrips">
                                          <i class="fa fa-bus fa-2x"></i>
                                          <span class="text-muted hidden-md hidden-lg"><small>DESDE {{ search.trips.lowest.bus.price | currency : '' }} €</small></span>
                                      </div>
                                  </div>
                                  <!--
                                  <div class="col-md-2 col-xs-4 np-tab pr5 pl0">
                                      <div class="tab-filter" data-type="plane" id="tab_plane">
                                          <i class="fa fa-plane fa-2x"></i>
                                          <span class="text-muted hidden-md hidden-lg"><small>DESDE $32.55</small></span>
                                      </div>
                                  </div>
                                  -->
                                  <div class="col-md-2 col-xs-4 np-tab pl0">
                                      <div class="tab-filter tab_train" data-type="train" id="tab_train" ng-click="search.showTripsType('train')" ng-show="search.hasTrainTrips">
                                          <i class="fa fa-train fa-2x"></i>
                                          <span class="text-muted hidden-md hidden-lg"><small>DESDE {{ search.trips.lowest.train.price | currency : '' }} €</small></span>
                                      </div>
                                  </div>
                                  
                              </div>
                              <!-- END PESTAÑAS DE RESULTADOS -->
                            <div class="new-results"  ng-class="{'disable-box':!search.selectDeparture}">
                                <div class="results list" >
                                     <div class="row result nu result-iv {{trip.id}}" data-type="{{ trip.transportType }}" id={{trip.id}} ng-class="{'hidden-train': !search.showTrain  && trip.transportType == 'train', 'hidden-bus': !search.showBus  && trip.transportType == 'bus', 'hidden-plane': !search.showPlane  && trip.transportType == 'plane'}"  ng-repeat="trip in trips| orderBy: search.typeDeparture : search.reverseDeparture" >
                                 <div class="ribbon-wrapper" ng-show="trip.hasPromotion == true"><div class="ribbon">PROMO</div></div>
                                <div class="row" >
                                    <div class="col-md-3 hidden-xs hidden-sm">
                                        <img ng-src={{trip.logo}} title="{{trip.companyName}}" class="logo_small hidden-xs hidden-sm"><br>
                                        <p class="truncate"><small class="text-muted smallest-font">{{trip.companyName}}</small></p>
                                    </div>

                                    <div class="col-md-3 col-xs-4 col-sm-4 tacm">
                                      <p class="vh-pull-right">
                                        <strong>{{ search.millisToUTCDate(trip.departure) | date:'HH:mm'}}</strong>
                                        <br>
                                        <small class="smallest-font text-muted-dark hidden-xs hidden-sm italic">{{search.trips.origin}}</small>
                                      </p>
                                    </div>

                                    <div class="col-xs-4 col-sm-4  visible-xs visible-sm  text-center">
                                        <p class="approximate-time text-muted smallest-font">{{trip.duration}}.</p>
                                    </div>

                                    <div class="col-md-3 col-xs-4 col-sm-4 tacm">
                                      <p class="vh-pull-right">
                                        <strong>{{ search.millisToUTCDate(trip.arrival) | date:'HH:mm'}}</strong>
                                        <br>
                                        <small class="smallest-font text-muted-dark hidden-xs hidden-sm italic">{{search.trips.destination}}</small>
                                      </p>
                                    </div>

                                    <div class="col-md-3 hidden-xs hidden-sm">
                                        <p class="pull-right">
                                          <strong class="price-full">{{trip.price | currency : '' }} €</strong>
                                          <span class="pull-right">
                                            <small class="text-muted smallest-font" style="margin-top: -10px;">{{trip.typeService}}</small>
                                          </span>
                                        </p>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-xs-4 col-sm-4 hidden-md hidden-lg">
                                        <img ng-src={{trip.logo}} title="{{trip.companyName}}" class="logo_small">
                                        <br>
                                        <small class="text-muted hidden-xs hidden-sm" style="margin-left: 25px;">Directo</small>
                                    </div>
                                       
                                    <div class="col-md-7 col-xs-4 col-sm-4 tacm">
                                           
                                        <div class="row hidden-xs hidden-sm">
                                          <div class="col-md-4">
                                            <small class="text-muted-dark">
                                              {{trip.duration}}
                                            </small>
                                          </div>
                                          <div class="col-md-8">
                                            <ul class="timeline hidden-xs hidden-sm">

                                              <li class="li complete" ng-repeat="n in search.getTripsSteps(search.trips.maxDuration, trip.durationMinutes) ">
                                                <div class="timestamp"></div>
                                                <div class="status no-scale {{ trip.transportType }}" ng-class="{'last':$last}"></div>
                                              </li>
                                              <small class="hidden-xs hidden-sm" style="margin-top: 18px;margin-left: 20px;">Directo</small>
                                            </ul> 
                                          </div>
                                        </div>  

                                        <a class="" ng-show="search.trips.directDepartureTrips.length == 1 && trip.transportType == 'bus'" ng-click="search.departureSelect(1,trip.id,trip.origin,trip.destination,trip.departure,trip.duration,trip.arrival,trip.price,trip.typeService,trip.companyName,trip.logo)"><i class="fa fa-chevron-circle-down fa-2x text-theme-green hidden-md hidden-lg"></i></a>

                                       <a class="" ng-show="outindex == 0 && search.trips.directDepartureTrips.length > 1 && trip.transportType == 'bus'" ng-class="{'disable-box':search.selectMixTrip}" ng-click="search.firstStep(trip.id,2,trip.origin,trip.destination,trip.departure,trip.duration,trip.arrival,trip.price,trip.typeService,trip.companyName,trip.logo)"><i class="fa fa-chevron-circle-down fa-2x text-theme-green hidden-md hidden-lg"></i></a>

                                        <a class="" ng-show="outindex == 1 && search.trips.directDepartureTrips.length > 1 && trip.transportType == 'bus'" ng-class="{'disable-box':!search.selectMixTrip || search.dateIda_1 > trip.departure}" ng-click="search.departureSelect(2,trip.id,trip.origin,trip.destination,trip.departure,trip.duration,trip.arrival,trip.price,trip.typeService,trip.companyName,trip.logo)"><i class="fa fa-chevron-circle-down fa-2x text-theme-green hidden-md hidden-lg"></i></a>

                                         <!-- BOTON PARA TREN-->
                                        <a class="" ng-show="search.trips.directDepartureTrips.length == 1 && trip.transportType == 'train'" ng-click="search.departureSelect(1,trip.numAgr,trip.origin,trip.destination,trip.departure,trip.duration,trip.arrival,trip.price,trip.typeService,trip.companyName,trip.logo)"><i class="fa fa-chevron-circle-down fa-2x text-theme-green hidden-md hidden-lg"></i></a>

                                    </div>

                                    <div class="col-md-2 hidden-xs hidden-sm">
                                        <i class="fa fa-2x pull-right text-theme-blue fa-trip-type hidden" ng-class="{'fa-bus': trip.transportType == 'bus','fa-train': trip.transportType == 'train'}" style="margin-left: 20px;margin-top: 10px;"></i>
                                    </div>

                                    <div class="col-md-3 col-xs-4 col-sm-4 tacm">

                                      <a class="btn theme-blue-2 hidden-xs hidden-sm pull-right" ng-show="search.trips.directDepartureTrips.length == 1 && trip.transportType == 'bus'" ng-click="search.departureSelect(1,trip.id,trip.origin,trip.destination,trip.departure,trip.duration,trip.arrival,trip.price,trip.typeService,trip.companyName,trip.logo)" translate>SEARCH.TRIPS.BUTTON</a>

                                       <a class="btn theme-blue-2 hidden-xs hidden-sm pull-right" ng-show="outindex == 0 && search.trips.directDepartureTrips.length > 1 && trip.transportType == 'bus'" ng-class="{'disable-box':search.selectMixTrip}" ng-click="search.firstStep(trip.id,2,trip.origin,trip.destination,trip.departure,trip.duration,trip.arrival,trip.price,trip.typeService,trip.companyName,trip.logo)" translate>SEARCH.TRIPS.BUTTON</a>

                                        <a class="btn theme-blue-2 hidden-xs hidden-sm pull-right" ng-show="outindex == 1 && search.trips.directDepartureTrips.length > 1 && trip.transportType == 'bus'" ng-class="{'disable-box':!search.selectMixTrip || search.dateIda_1 > trip.departure}" ng-click="search.departureSelect(2,trip.id,trip.origin,trip.destination,trip.departure,trip.duration,trip.arrival,trip.price,trip.typeService,trip.companyName,trip.logo)" translate>SEARCH.TRIPS.BUTTON</a>

                                      <!-- BOTON PARA TREN-->
                                      <a class="btn theme-blue-2 hidden-xs hidden-sm pull-right" ng-show="search.trips.directDepartureTrips.length == 1 && trip.transportType == 'train'" ng-click="search.departureSelect(1,trip.numAgr,trip.origin,trip.destination,trip.departure,trip.duration,trip.arrival,trip.price,trip.typeService,trip.companyName,trip.logo)" translate>SEARCH.TRIPS.BUTTON</a>

                                      <strong class="price hidden-md hidden-lg">{{trip.price | currency : '' }} €</strong>
                                    </div>
                                </div>
                            </div>

                                    <!--
                                    <div class="row result result-iv {{trip.id}}" id={{trip.id}}>

                                        <div class="col-md-5 col-xs-4 col-sm-4 c-departure">
                                            <strong>{{ search.millisToUTCDate(trip.departure) | date:'HH:mm'}}</strong>
                                            <span class="smallest-font nowrap text-fucsia">{{search.trips.origin}}</span>
                                            <br>
                                            <small class="text-muted smallest-font hidden-xs hidden-sm capitalize terminals"  style="display:block;">{{trip.origin}}</small>
                                        </div>

                                        <div class="col-xs-4 col-sm-4 c-approximate-time visible-xs visible-sm nbt text-center" style="border-top: 1px solid #bbb;">
                                            <p class="approximate-time text-muted smallest-font">{{trip.duration}}.</p>
                                        </div>

                                        <div class="col-md-4 col-xs-4 col-sm-4 c-arrival">
                                            <strong>{{ search.millisToUTCDate(trip.arrival) | date:'HH:mm'}}</strong>
                                            <small class="smallest-font dbm text-fucsia">{{search.trips.destination}}</small>
                                            <small class="text-muted smallest-font hidden-xs hidden-sm capitalize terminals" style="display:block;">{{trip.destination}}</small>
                                        </div>

                                        <div class="col-md-3 col-xs-4 col-sm-4 c-seat-type">
                                            <strong class="text-fucsia">{{trip.price | currency : '' }} €</strong>
                                            <small class="text-muted smallest-font hidden-xs hidden-sm" style="display:block;">{{trip.typeService}}</small>
                                        </div>
                                        <div class="col-xs-4 col-sm-4 nbt visible-xs visible-sm" style="border-top: 1px solid #bbb;">
                                            <a class="btn btn-block theme-fucsia-iv addTicket-button" ng-click="search.departureSelect(trip.id,trip.origin,trip.destination,trip.departure,trip.duration,trip.arrival,trip.price,trip.typeService,trip.companyName,trip.logo)" translate>SEARCH.TRIPS.BUTTON</a>
                                        </div>

                                        <div class="col-md-5 col-xs-4 col-sm-4 c-company nbt" style="border-top: 1px solid #bbb;">
                                            <small class="text-muted smallest-font company">{{trip.companyName}}</small>
                                        </div>

                                        <div class="col-md-4 col-xs-3 col-sm-3 c-approximate-time hidden-xs hidden-sm nbt" style="border-top: 1px solid #bbb;">
                                            <img ng-src={{trip.logo}} title="{{trip.companyName}}" class="logo-iv hidden-xs hidden-sm">
                                            <small class="text-muted smallest-font"><i class="fa fa-clock-o"></i>{{trip.duration}}.</small>
                                        </div>

                                        <div class="col-md-3 nbt hidden-xs hidden-sm" style="border-top: 1px solid #bbb;" ng-show="search.trips.directDepartureTrips.length == 1">
                                            <a class="btn btn-block theme-fucsia-iv addTicket-button" ng-click="search.departureSelect(1,trip.id,trip.origin,trip.destination,trip.departure,trip.duration,trip.arrival,trip.price,trip.typeService,trip.companyName,trip.logo)" translate>SEARCH.TRIPS.BUTTON</a>
                                        </div>
                                        <div class="col-md-3 nbt hidden-xs hidden-sm" style="border-top: 1px solid #bbb;" ng-show="outindex == 0 && search.trips.directDepartureTrips.length > 1" ng-class="{'disable-box':search.selectMixTrip}">
                                            <a class="btn btn-block theme-fucsia-iv addTicket-button" ng-click="search.firstStep(trip.id,2,trip.origin,trip.destination,trip.departure,trip.duration,trip.arrival,trip.price,trip.typeService,trip.companyName,trip.logo)" translate>SEARCH.TRIPS.BUTTON</a>
                                        </div>
                                        <div class="col-md-3 nbt hidden-xs hidden-sm" style="border-top: 1px solid #bbb;" ng-show="outindex == 1 && search.trips.directDepartureTrips.length > 1" ng-class="{'disable-box':!search.selectMixTrip || search.dateIda_1 > trip.departure}">
                                            <a class="btn btn-block theme-fucsia-iv addTicket-button" ng-click="search.departureSelect(2,trip.id,trip.origin,trip.destination,trip.departure,trip.duration,trip.arrival,trip.price,trip.typeService,trip.companyName,trip.logo)" translate>SEARCH.TRIPS.BUTTON</a>
                                        </div>
                                    </div>
                                    -->
                                </div>
                            </div>
                        </div>
                    </div>

                       <div class="col-xs-12 col-md-6 conttainer-results" ng-class="{'disable-box':search.selectDeparture}">
                        <div class="new-results-selected">
                            <div class="results" id="selected-trip-container" >
                            </div>
                        </div>
                        <div class="" id="tramo-vuelta-{{$index}}" ng-repeat="trips in search.trips.directReturnTrips" ng-init="outindex = $index">
                            <br/ ng-show="$index == 1">
                            <h5 class="hidden-xs" ng-show="search.trips.directReturnTrips.length > 1">
                                <span translate>CANCEL.SECTION</span>: {{$index + 1}}
                            </h5>
                            <h5 class="hidden-xs hidden-sm">
                                <span class="way" translate>SEARCH.TRIPS.RETURN</span>: {{trips.length}} <span translate>SEARCH.TRIPS.RESULTS</span> {{search.trips.returnDate | date: 'EEE, MMM dd' }}
                            </h5>
                            <div class="change-departure" ng-show="search.idVuelta_1 != 0" style="margin-bottom: .3em;">
                                <a class="text-fucsia" style="cursor:pointer;" ng-click="search.resetFirstSetep(3)"><strong><span translate>Cambia billete del primer tramo</span></strong></a>
                            </div>
                            <!-- PESTAÑAS DE RESULTADOS -->
                              <div class="row tabs-filter" >
                                  
                                  <div class="col-md-2 col-xs-4 np-tab pr5 col-md-offset-3">
                                      <div class="tab-filter active tab_bus" data-type="bus" id="tab_bus" ng-click="search.showTripsType('bus')" ng-show="search.hasBusTrips">
                                          <i class="fa fa-bus fa-2x"></i>
                                          <span class="text-muted hidden-md hidden-lg"><small>DESDE {{ search.trips.lowest.bus.price | currency : '' }} €</small></span>
                                      </div>
                                  </div>
                                  <!--
                                  <div class="col-md-2 col-xs-4 np-tab pr5 pl0">
                                      <div class="tab-filter" data-type="plane" id="tab_plane">
                                          <i class="fa fa-plane fa-2x"></i>
                                          <span class="text-muted hidden-md hidden-lg"><small>DESDE $32.55</small></span>
                                      </div>
                                  </div>
                                  -->
                                  <div class="col-md-2 col-xs-4 np-tab pl0">
                                      <div class="tab-filter tab_train" data-type="train" id="tab_train" ng-click="search.showTripsType('train')" ng-show="search.hasTrainTrips">
                                          <i class="fa fa-train fa-2x"></i>
                                          <span class="text-muted hidden-md hidden-lg"><small>DESDE {{ search.trips.lowest.train.price | currency : '' }} €</small></span>
                                      </div>
                                  </div>
                                  
                              </div>
                              <!-- END PESTAÑAS DE RESULTADOS -->
                            <div class="new-results" >
                                <div class="results list" >
                                    <div class="row result nu result-iv" data-type="{{ trip.transportType }}" id={{trip.id}} ng-class="{'hidden-train': !search.showTrain  && trip.transportType == 'train', 'hidden-bus': !search.showBus  && trip.transportType == 'bus', 'hidden-plane': !search.showPlane  && trip.transportType == 'plane'}"  ng-repeat="trip in trips| orderBy: search.typeReturn : search.reverseReturn" >
                                 <div class="ribbon-wrapper" ng-show="trip.hasPromotion == true"><div class="ribbon">PROMO</div></div>
                                <div class="row" >
                                    <div class="col-md-3 hidden-xs hidden-sm">
                                        <img ng-src={{trip.logo}} title="{{trip.companyName}}" class="logo_small hidden-xs hidden-sm"><br>
                                        <p class="truncate"><small class="text-muted smallest-font">{{trip.companyName}}</small></p>
                                    </div>

                                    <div class="col-md-3 col-xs-4 col-sm-4 tacm">
                                      <p class="vh-pull-right">
                                        <strong>{{ search.millisToUTCDate(trip.departure) | date:'HH:mm'}}</strong>
                                        <br>
                                        <small class="smallest-font text-muted-dark hidden-xs hidden-sm italic">{{search.trips.origin}}</small>
                                      </p>
                                    </div>

                                    <div class="col-xs-4 col-sm-4  visible-xs visible-sm  text-center">
                                        <p class="approximate-time text-muted smallest-font">{{trip.duration}}.</p>
                                    </div>

                                    <div class="col-md-3 col-xs-4 col-sm-4 tacm">
                                      <p class="vh-pull-right">
                                        <strong>{{ search.millisToUTCDate(trip.arrival) | date:'HH:mm'}}</strong>
                                        <br>
                                        <small class="smallest-font text-muted-dark hidden-xs hidden-sm italic">{{search.trips.destination}}</small>
                                      </p>
                                    </div>

                                    <div class="col-md-3 hidden-xs hidden-sm">
                                        <p class="pull-right">
                                          <strong class="price-full">{{trip.price | currency : '' }} €</strong>
                                          <span class="pull-right">
                                            <small class="text-muted smallest-font" style="margin-top: -10px;">{{trip.typeService}}</small>
                                          </span>
                                        </p>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-xs-4 col-sm-4 hidden-md hidden-lg">
                                        <img ng-src={{trip.logo}} title="{{trip.companyName}}" class="logo_small">
                                        <br>
                                        <small class="text-muted hidden-xs hidden-sm" style="margin-left: 25px;">Directo</small>
                                    </div>
                                       
                                    <div class="col-md-7 col-xs-4 col-sm-4 tacm">
                                      <div class="row hidden-xs hidden-sm">
                                          <div class="col-md-4">
                                            <small class="text-muted-dark">
                                              {{trip.duration}}
                                            </small>
                                          </div>
                                          <div class="col-md-8">
                                            <ul class="timeline hidden-xs hidden-sm">

                                              <li class="li complete" ng-repeat="n in search.getTripsSteps(search.trips.maxDuration, trip.durationMinutes) ">
                                                <div class="timestamp"></div>
                                                <div class="status no-scale {{ trip.transportType }}" ng-class="{'last':$last}"></div>
                                              </li>
                                              <small class="hidden-xs hidden-sm" style="margin-top: 18px;margin-left: 20px;">Directo</small>
                                            </ul> 
                                          </div>
                                        </div>   
                                       

                                         <a href="#/seat/{{search.departureId}}/{{trip.id}}" ng-show="search.trips.directDepartureTrips.length == 1 && trip.transportType == 'bus'" class=""><i class="fa fa-chevron-circle-down fa-2x text-theme-green hidden-md hidden-lg"></i></a>

                                      <a class="" ng-show="outindex == 0 && search.trips.directDepartureTrips.length > 1 && trip.transportType == 'bus'" ng-class="{'disable-box':search.selectMixTrip}" ng-click="search.firstStep(trip.id,3,trip.origin,trip.destination,trip.departure,trip.duration,trip.arrival,trip.price,trip.typeService,trip.companyName,trip.logo)"><i class="fa fa-chevron-circle-down fa-2x text-theme-green hidden-md hidden-lg"></i></a>

                                      <a href="#/seat/{{search.departureId_1}}~{{search.departureId}}/{{search.returnId}}~{{trip.id}}" ng-show="outindex == 1 && search.trips.directDepartureTrips.length > 1 && trip.transportType == 'bus'" ng-class="{'disable-box':!search.selectMixTrip || search.dateVuelta_1 > trip.departure}" class="" ><i class="fa fa-chevron-circle-down fa-2x text-theme-green hidden-md hidden-lg"></i></a>

                                      <!-- BOTON PARA TREN-->
                                      <a class="" ng-show="search.trips.directDepartureTrips.length == 1 && trip.transportType == 'train'" ng-click="search.returnSelectTrain(trip.numAgr)"><i class="fa fa-chevron-circle-down fa-2x text-theme-green hidden-md hidden-lg"></i></a>

                                    </div>

                                    <div class="col-md-2 hidden-xs hidden-sm">
                                        <i class="fa fa-2x pull-right text-theme-blue fa-trip-type hidden" ng-class="{'fa-bus': trip.transportType == 'bus','fa-train': trip.transportType == 'train'}" style="margin-left: 20px;margin-top: 10px;"></i>
                                    </div>

                                    <div class="col-md-3 col-xs-4 col-sm-4 tacm">

                                      <a href="#/seat/{{search.departureId}}/{{trip.id}}" ng-show="search.trips.directDepartureTrips.length == 1 && trip.transportType == 'bus'" class="btn theme-blue-2 hidden-xs hidden-sm pull-right" translate>SEARCH.TRIPS.BUTTON</a>

                                      <a class="btn theme-blue-2 hidden-xs hidden-sm pull-right" ng-show="outindex == 0 && search.trips.directDepartureTrips.length > 1 && trip.transportType == 'bus'" ng-class="{'disable-box':search.selectMixTrip}" ng-click="search.firstStep(trip.id,3,trip.origin,trip.destination,trip.departure,trip.duration,trip.arrival,trip.price,trip.typeService,trip.companyName,trip.logo)" translate>SEARCH.TRIPS.BUTTON</a>

                                      <a href="#/seat/{{search.departureId_1}}~{{search.departureId}}/{{search.returnId}}~{{trip.id}}" ng-show="outindex == 1 && search.trips.directDepartureTrips.length > 1 && trip.transportType == 'bus'" ng-class="{'disable-box':!search.selectMixTrip || search.dateVuelta_1 > trip.departure}" class="btn theme-blue-2 hidden-xs hidden-sm pull-right"  translate>SEARCH.TRIPS.BUTTON</a>

                                      <!-- BOTON PARA TREN-->
                                      <a class="btn theme-blue-2 hidden-xs hidden-sm pull-right" ng-show="search.trips.directDepartureTrips.length == 1 && trip.transportType == 'train'" ng-click="search.returnSelectTrain(trip.numAgr)" translate>SEARCH.TRIPS.BUTTON</a>

                                      <strong class="price hidden-md hidden-lg">{{trip.price | currency : '' }} €</strong>
                                    </div>
                                </div>
                            </div>

                                  
                                    <!--
                                    <div class="row result result-iv" id={{trip.id}}>

                                        <div class="col-md-5 col-xs-4 col-sm-4 c-departure">
                                            <strong>{{ search.millisToUTCDate(trip.departure) | date:'HH:mm'}}</strong>
                                            <span class="smallest-font nowrap text-fucsia">{{search.trips.destination}}</span>
                                            <br>
                                            <small class="text-muted smallest-font hidden-xs hidden-sm capitalize terminals"  style="display:block;">{{trip.origin}}</small>
                                        </div>

                                        <div class="col-xs-4 col-sm-4 c-approximate-time visible-xs visible-sm nbt text-center" style="border-top: 1px solid #bbb;">
                                            <p class="approximate-time text-muted smallest-font">{{trip.duration}}.</p>
                                        </div>

                                        <div class="col-md-4 col-xs-4 col-sm-4 c-arrival">
                                            <strong>{{ search.millisToUTCDate(trip.arrival) | date:'HH:mm'}}</strong>
                                            <small class="smallest-font dbm text-fucsia">{{search.trips.origin}}</small>
                                            <small class="text-muted smallest-font hidden-xs hidden-sm capitalize terminals" style="display:block;">{{trip.destination}}</small>
                                        </div>

                                        <div class="col-md-3 col-xs-4 col-sm-4  c-seat-type">
                                            <strong class="text-fucsia">{{trip.price | currency : '' }} €</strong>
                                            <small class="text-muted smallest-font hidden-xs hidden-sm" style="display:block;">{{trip.typeService}}</small>
                                        </div>
                                        <div class="col-xs-4 col-sm-4 nbt visible-xs visible-sm" style="border-top: 1px solid #bbb;">
                                            <a href="#/seat/{{search.departureId}}/{{trip.id}}" class="btn btn-block theme-fucsia-iv addTicket-button">COMPRAR</a>
                                        </div>

                                        <div class="col-md-5 col-xs-4 col-sm-4 c-company nbt" style="border-top: 1px solid #bbb;">
                                            <small class="text-muted smallest-font company">{{trip.companyName}}</small>
                                        </div>

                                        <div class="col-md-4 col-xs-3 col-sm-3 c-approximate-time hidden-xs hidden-sm nbt" style="border-top: 1px solid #bbb;">
                                            <img ng-src={{trip.logo}} title="{{trip.companyName}}" class="logo-iv hidden-xs hidden-sm">
                                            <small class="text-muted smallest-font"><i class="fa fa-clock-o"></i> {{trip.duration}}.</small>
                                        </div>

                                        <div class="col-md-3 nbt hidden-xs hidden-sm" style="border-top: 1px solid #bbb;" ng-show="search.trips.directDepartureTrips.length == 1">
                                            <a href="#/seat/{{search.departureId}}/{{trip.id}}" class="btn btn-block theme-fucsia-iv addTicket-button" translate>SEARCH.TRIPS.BUTTON</a>
                                        </div>
                                        <div class="col-md-3 nbt hidden-xs hidden-sm" style="border-top: 1px solid #bbb;" ng-show="outindex == 0 && search.trips.directDepartureTrips.length > 1" ng-class="{'disable-box':search.selectMixTrip}">
                                            <a class="btn btn-block theme-fucsia-iv addTicket-button" ng-click="search.firstStep(trip.id,3,trip.origin,trip.destination,trip.departure,trip.duration,trip.arrival,trip.price,trip.typeService,trip.companyName,trip.logo)" translate>SEARCH.TRIPS.BUTTON</a>
                                        </div>
                                        <div class="col-md-3 nbt hidden-xs hidden-sm" style="border-top: 1px solid #bbb;" ng-show="outindex == 1 && search.trips.directDepartureTrips.length > 1" ng-class="{'disable-box':!search.selectMixTrip || search.dateVuelta_1 > trip.departure}">
                                            <a href="#/seat/{{search.departureId_1}}~{{search.departureId}}/{{search.returnId}}~{{trip.id}}" class="btn btn-block theme-fucsia-iv addTicket-button"  translate>SEARCH.TRIPS.BUTTON</a>
                                        </div>
                                    </div>

                                    -->
                                </div>
                            </div>
                        </div>
                    </div>
            </div>

            <div class="row  container-responsive" id="mixed-results" ng-show="search.globalMixedTrips.length > 0">
                <div class="col-xs-12 col-md-12 " >
                    <div class="new-results">
                        <div class="results list" id="trips_mixed" >
                           <div class="row result nu" data-type="bus" ng-repeat="trip in search.globalMixedTrips | orderBy:search.typeDeparture:search.reverseDeparture" ng-class="{'hidden-bus': !search.showBus}">
                                <div class="row">
                                    <div class="col-md-3 hidden-xs hidden-sm">
                                        <small class="text-muted smallest-font truncate">Varias empresas</small>
                                    </div>

                                    <div class="col-md-3 col-xs-4 col-sm-4 tacm">
                                       <p class="pull-right">
                                        <small class="smallest-font text-muted-dark hidden-xs hidden-sm">{{trip.originT1 }}</small>
                                        <br>
                                        <small class="text-muted-dark smallest-font hidden-xs hidden-sm capitalize terminals">{{trip.originT1 }}</small>
                                      </p>
                                    </div>

                                    <div class="col-xs-4 col-sm-4  visible-xs visible-sm  text-center">
                                        <p class="approximate-time text-muted smallest-font">4hrs 15min.</p>
                                    </div>

                                    <div class="col-md-3 col-xs-4 col-sm-4 tacm">
                                       <p class="pull-right">
                                        <small class="smallest-font text-muted-dark hidden-xs hidden-sm">{{ trip.destinationT2 }}</small>
                                        <br>
                                        <small class="text-muted-dark smallest-font hidden-xs hidden-sm capitalize terminals">{{ trip.destinationT2 }}</small>
                                      </p>
                                    </div>

                                    <div class="col-md-3 text-center hidden-xs hidden-sm">
                                      <p class="pull-right">
                                          <strong class="price-full">18.57 €</strong>
                                          <span class="pull-right">
                                            <small class="text-muted smallest-font" style="margin-top: -10px;">Servicios varios</small>
                                          </span>
                                        </p>
                                        
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-xs-4 col-sm-4 hidden-md hidden-lg">
                                        <small class="text-muted" style="margin-left: 25px;">2 Escalas</small>
                                    </div>
                                       
                                    <div class="col-md-6 col-xs-4 col-sm-4 tacm">
                                           
                                        <ul class="timeline hidden-xs hidden-sm">
                                            <li class="li complete">
                                                <div class="timestamp"></div>
                                                <div class="status"></div>
                                            </li>
                                            <li class="li complete">
                                                <div class="timestamp"></div>
                                                <div class="status"></div>
                                            </li>
                                        </ul> 
                                        <i class="fa fa-chevron-right hidden-xs hidden-sm"></i>   
                                        <small class="hidden-xs hidden-sm">2 Escalas</small>
                                        <i class="fa fa-chevron-circle-down fa-2x text-theme-green hidden-md hidden-lg " data-trip-id="{{ trip.id }}" ng-click="search.tripDetails($event)"></i>
                                    </div>

                                    <div class="col-md-3 hidden-xs hidden-sm">
                                        <i class="fa fa-2x pull-right text-theme-blue fa-trip-type {{ search.mixedTripIcon(1, trip.mixedType) }}" style="margin-left: 20px;margin-top: 10px;"></i>
                                        <i class="fa fa-plus fa-2x pull-right text-theme-blue fa-trip-type" style="margin-left: 20px;margin-top: 10px;"></i>
                                        <i class="fa fa-2x pull-right text-theme-blue fa-trip-type {{ search.mixedTripIcon(0, trip.mixedType) }}"   style="margin-left: 20px;margin-top: 10px;"></i>
                                        
                                        
                                    </div>

                                    <div class="col-md-3 col-xs-4 col-sm-4">
                                        <button data-trip-id="{{ trip.id }}" ng-click="search.tripDetails($event)" class="btn theme-blue-2 hidden-xs hidden-sm pull-right">Ver más</button>
                                        <strong class="price hidden-md hidden-lg">18.57 €</strong>
                                    </div>
                                </div>
                                <div class="row" style="margin-top: 30px; display: none;" id="trip_details_{{ trip.id }}">
                                    <div class="timeline-centered">
                                        <article class="timeline-entry right-aligned">
                                            <div class="timeline-entry-inner">
                                                <time class="timeline-time" datetime="2014-01-10T03:45">
                                                    <span>Jue, Abril 22</span>
                                                </time>
                                                <div class="timeline-icon bg-theme-blue">
                                                    <i class="fa {{ search.mixedTripIcon(0, trip.mixedType) }}"></i>
                                                </div>
                                                <div class="timeline-label">
                                                    <h2>{{trip.originT1 }}</h2>
                                                    <p>
                                                        <b>{{trip.originT1 }}</b> <i class="fa fa-angle-right"></i> <b>{{trip.destinationT1 }}</b>
                                                    </p>
                                                </div>
                                                
                                               
                                            </div>
                                        </article>

                                        <article class="timeline-entry right-aligned">
                                            <div class="timeline-entry-inner">
                                                <time class="timeline-time" datetime="2014-01-10T03:45">
                                                    <span>Jue, Abril 22</span>
                                                </time>
                                                <div class="timeline-icon">
                                                    <i class="fa {{ search.mixedTripIcon(1, trip.mixedType) }}"></i>
                                                </div>
                                                <div class="timeline-label">
                                                    <h2>{{trip.originT1 }}</h2>
                                                    <p>
                                                         <b>{{trip.originT2 }}</b> <i class="fa fa-angle-right"></i> <b>{{trip.destinationT2 }}</b>
                                                    </p>
                                                </div>
                                               
                                            </div>
                                        </article>
                                        
                                        <article class="timeline-entry begin">
                                            <div class="timeline-entry-inner">
                                                <time class="timeline-time" datetime="2014-01-10T03:45">
                                                    <span>Jue, Abril 23</span>
                                                </time>
                                                <div class="timeline-icon">
                                                    
                                                </div>
                                                <div class="timeline-label">
                                                    <h2>{{trip.destinationT2 }}</h2>
                                                </div>

                                            </div>
                                        </article>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-12 col-xs-12">
                                             <a href="" class="btn theme-fucsia pull-right" ng-click="search.findMixRoutes(trip.id)" style="margin-right: 20px;" translate>SEARCH.TRIPS.BUTTON</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- start allTrips  -->
            <div class="allTrips" ng-show="search.combineTrips">
                <div class="new-results" id="new-results-tickeables">
                    <div class="results list" id="trips_tickeables" >
                        <div class="row result nu" data-type="{{ trip.transportType }}" id={{trip.id}} ng-repeat="trip in search.allTrips | orderBy:search.typeDeparture:search.reverseDeparture  track by $index" >
                         <div class="ribbon-wrapper" ng-show="trip.hasPromotion == true"><div class="ribbon">PROMO</div></div>
                        <div class="row" >
                            <div class="col-md-3 hidden-xs hidden-sm">
                                <img ng-src={{trip.logo}} title="{{trip.companyName}}" class="logo_small hidden-xs hidden-sm"><br>
                                <p class="truncate"><small class="text-muted smallest-font">{{trip.companyName}}</small></p>
                            </div>

                            <div class="col-md-3 col-xs-4 col-sm-4 tacm">
                              <p class="vh-pull-right">
                                <strong>{{ search.millisToUTCDate(trip.departure) | date:'HH:mm'}}</strong>
                                <small class="smallest-font text-muted-dark hidden-xs hidden-sm italic">{{search.trips.origin}}</small>
                                <br>
                                <small class="text-muted smallest-font hidden-xs hidden-sm capitalize terminals truncate">{{trip.origin}}</small>
                              </p>
                            </div>

                            <div class="col-xs-4 col-sm-4  visible-xs visible-sm  text-center">
                                <p class="approximate-time text-muted smallest-font">{{trip.duration}}.</p>
                            </div>

                            <div class="col-md-3 col-xs-4 col-sm-4 tacm">
                              <p class="vh-pull-right">
                                <strong>{{ search.millisToUTCDate(trip.arrival) | date:'HH:mm'}}</strong>
                                <small class="smallest-font text-muted-dark hidden-xs hidden-sm italic">{{search.trips.destination}}</small>
                                <br>
                                <small class="text-muted smallest-font hidden-xs hidden-sm capitalize terminals truncate">{{trip.destination}}</small>
                              </p>
                            </div>

                            <div class="col-md-3 hidden-xs hidden-sm">
                                <p class="pull-right">
                                  <strong class="price-full">{{trip.price | currency : '' }} €</strong>
                                  <span class="pull-right type-service">
                                    <small class="text-muted smallest-font" style="margin-top: -10px;">{{trip.typeService}}</small>
                                  </span>
                                </p>
                            </div>
                        </div>
                        <!-- NEW AVIONES -->
                        <div class="row" ng-show="trip.transportType == 'airplane'">
                            <div class="col-xs-4 col-sm-4 hidden-md hidden-lg">
                                <img ng-src="{{ trip.logo }}" title="{{ trip.companyName }}" class="logo_small">
                                <br>
                                <small class="text-muted hidden-xs hidden-sm" style="margin-left: 25px;">
                                    <span ng-show="trip.segments.length == 1">Directo</span>
                                    <span ng-show="trip.segments.length > 1">{{ trip.segments.length - 1 }} Escalas</span>
                                </small>
                            </div>
                            <div class="col-md-6 col-xs-4 col-sm-4 tacm">
                                <div class="row hidden-xs hidden-sm">
                                  <div class="col-md-3">
                                    <small class="text-muted-dark">
                                      {{ search.getHourMinPlanes(trip.duration) }}
                                    </small>
                                  </div>
                                  <div class="col-md-9">
                                    <ul class="timeline hidden-xs hidden-sm">

                                      <li class="li complete" ng-repeat="n in search.getPlanesSteps(trip.segments.length)">
                                        <div class="timestamp"></div>
                                        <div class="status plane" ng-class="{'scale': trip.segments.length > 1, 'no-scale': trip.segments.length == 1}"></div>
                                      </li>
                                      <li class="li complete">
                                        <div class="timestamp"></div>
                                        <div class="status plane last" ></div>
                                      </li>
                                      <small class="hidden-xs hidden-sm" style="margin-top: 18px;margin-left: 20px;">
                                        <span ng-show="trip.segments.length == 1">Directo</span>
                                        <span ng-show="trip.segments.length > 1">{{ trip.segments.length - 1 }} Escalas</span>
                                      </small>
                                    </ul>
                                  </div>
                                </div>
                                <i class="fa fa-chevron-circle-down fa-2x text-theme-green hidden-md hidden-lg " data-trip-id="{{$index}}" ng-click="search.tripDetails($event)"></i>
                            </div>
                            <div class="col-md-3 hidden-xs hidden-sm">
                                <i class="fa fa-2x pull-right text-theme-blue fa-trip-type hidden" ng-class="{'fa-plane': trip.transportType == 'airplane', 'fa-bus': trip.transportType == 'bus'}" style="margin-left: 20px;margin-top: 10px;"></i>
                                <small class="text-muted smallest-font pull-right hidden-lg hidden-md" style="margin-top: 20px;">{{ trip.typeService }}</small>
                            </div>
                            <div class="col-md-3 col-xs-4 col-sm-4">
                                <button data-trip-id="{{$index}}" ng-click="search.tripDetails($event)" class="btn theme-blue-2 hidden-xs hidden-sm pull-right" translate>Elegir</button>
                                <strong class="price hidden-md hidden-lg">{{trip.price | currency : '' }} €</strong>
                            </div>
                        </div>
                        <div class="row" id="trip_details_mix_{{$index}}"  style="margin-top: 30px; display: none;" ng-show="trip.transportType == 'airplane'">
                            <div class="timeline-centered">
                                <article class="timeline-entry right-aligned" ng-repeat="segment in trip.segments">
                                    <div class="timeline-entry-inner">
                                        <time class="timeline-time" datetime="2014-01-10T03:45">
                                            <span>{{ search.millisToUTCDate(segment.start*1000) | date:'HH:mm'}}</span>
                                            <span>{{ search.millisToUTCDate(segment.start*1000) | date:'EEE, dd MMM'}}</span>
                                        </time>
                                        <div class="timeline-icon bg-theme-blue">
                                            <i class="fa fa-plane"></i>
                                        </div>
                                        <div class="timeline-label">
                                            <h2>{{ segment.origin }}</h2>
                                            <p>
                                                <b>{{ segment.enterprise__name }}</b> | Vuelo No: <b>{{ segment.number }}</b>
                                                <span class="label label-default pull-right"><b>{{ search.getHourMinPlanes(segment.duration) }}</b></span>
                                                <br>
                                                <b>{{ search.millisToUTCDate(segment.start*1000) | date:'HH:mm'}}</b> <i class="fa fa-angle-right"></i> <b>{{ search.millisToUTCDate(segment.end*1000) | date:'HH:mm'}}</b>
                                            </p>
                                        </div>
                                        <div class="timeline-sublabel">
                                            <p class="text-muted smallest-font hidden">
                                              <i class="fa fa-clock-o"></i> Layover in Concepcion for 1h 26min <br>
                                              <i class="fa fa-suitcase"></i> Recheck of checked luggage needed
                                            </p>
                                        </div>
                                    </div>
                                </article>
                                <article class="timeline-entry begin">
                                    <div class="timeline-entry-inner">
                                        <time class="timeline-time" datetime="2014-01-10T03:45">
                                            <span>{{ search.millisToUTCDate(trip.arrival) | date:'HH:mm'}}</span>
                                            <span>{{ search.millisToUTCDate(trip.arrival) | date:'EEE, dd MMM'}}</span>
                                        </time>
                                        <div class="timeline-icon">

                                        </div>
                                        <div class="timeline-label">
                                            <h2>{{ trip.destination }}</h2>
                                        </div>

                                    </div>
                                </article>
                                <div class="row">
                                    <div class="col-md-12 col-xs-12">
                                         <a href="{{ trip.url }}" class="btn theme-fucsia pull-right" style="margin-right: 20px;" translate>SEARCH.TRIPS.BUTTON</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- END NEW AVIONES -->
                        <div class="row" ng-hide="trip.transportType == 'airplane'">
                            <div class="col-xs-4 col-sm-4 hidden-md hidden-lg">
                                <img ng-src={{trip.logo}} title="{{trip.companyName}}" class="logo_small">
                                <br>
                                <small class="text-muted hidden-xs hidden-sm" style="margin-left: 25px;">Directo</small>
                            </div>

                            <div class="col-md-6 col-xs-4 col-sm-4 tacm">
                               <!--
                                <div class="arrow-box hidden-xs hidden-sm">
                                    <span class=" hidden-xs hidden-sm">{{trip.duration}}.</span>
                                </div>
                                -->
                                <div class="row hidden-xs hidden-sm">
                                  <div class="col-md-3">
                                    <small class="text-muted-dark">
                                      {{trip.duration}}
                                    </small>
                                  </div>
                                  <div class="col-md-9">
                                    <ul class="timeline hidden-xs hidden-sm">

                                      <li class="li complete" ng-repeat="n in search.getTripsSteps(search.trips.maxDuration, trip.durationMinutes) ">
                                        <div class="timestamp"></div>
                                        <div class="status no-scale {{ trip.transportType }}" ng-class="{'last':$last}"></div>
                                      </li>
                                      <small class="hidden-xs hidden-sm" style="margin-top: 18px;margin-left: 20px;">Directo</small>
                                    </ul>
                                  </div>
                                </div>



                                <!--<i class="fa fa-chevron-circle-down fa-2x text-theme-green hidden-md hidden-lg"></i> -->

                                <a href="{{trip.url}}" ng-show="search.globalDirectDepartureTrips.length == 1 && trip.transportType == 'bus' && trip.url.length > 0" class=""><i class="fa fa-chevron-circle-down fa-2x text-theme-green hidden-md hidden-lg"></i></a>

                                <a href="#/seat/{{trip.id}}/-1" ng-show="search.globalDirectDepartureTrips.length == 1 && trip.transportType == 'bus' && trip.url == null" class=""><i class="fa fa-chevron-circle-down fa-2x text-theme-green hidden-md hidden-lg"></i></a>

                                <div ng-class="{'disable-box':search.selectMixTrip}" >
                                    <a href="" ng-show="outindex == 0 && search.globalDirectDepartureTrips.length > 1 && trip.transportType == 'bus'" class="" ng-click="search.firstStep(trip.id,1,trip.origin,trip.destination,trip.departure,trip.duration,trip.arrival)"><i class="fa fa-chevron-circle-down fa-2x text-theme-green hidden-md hidden-lg"></i></a>
                                    <a href="" ng-show="outindex == 0 && search.globalDirectDepartureTrips.length > 1 && trip.transportType == 'ship'" class="" ng-click="search.firstStep(trip.id,1,trip.origin,trip.destination,trip.departure,trip.duration,trip.arrival)"><i class="fa fa-chevron-circle-down fa-2x text-theme-green hidden-md hidden-lg"></i></a>
                                </div>

                                <div ng-class="{'disable-box':!search.selectMixTrip || search.dateIda_1 > trip.departure}">
                                    <a href="#/seat/{{search.idIda_1}}~{{trip.id}}/-1" ng-show="outindex == 1 && search.globalDirectDepartureTrips.length > 1 && trip.transportType == 'bus'"><i class="fa fa-chevron-circle-down fa-2x text-theme-green hidden-md hidden-lg"></i></a>
                                    <a href="#/seat/{{search.idIda_1}}~{{trip.id}}/-1" ng-show="outindex == 1 && search.globalDirectDepartureTrips.length > 1 && trip.transportType == 'ship'"><i class="fa fa-chevron-circle-down fa-2x text-theme-green hidden-md hidden-lg"></i></a>
                                </div>

                                 <!-- BOTON PARA TREN-->
                              <a href="{{ trip.url }}" ng-show="trip.transportType == 'train'" class="" target="_blank"><i class="fa fa-chevron-circle-down fa-2x text-theme-green hidden-md hidden-lg"></i></a>

                            </div>

                            <div class="col-md-3 hidden-xs hidden-sm">
                                <i class="fa fa-2x pull-right text-theme-blue fa-trip-type hidden" ng-class="{'fa-bus': trip.transportType == 'bus','fa-train': trip.transportType == 'train'}" style="margin-left: 20px;margin-top: 10px;"></i>
                            </div>

                            <div class="col-md-3 col-xs-4 col-sm-4 tacm">

                              <a href="{{trip.url}}" target="_blank" ng-show="search.globalDirectDepartureTrips.length == 1 && trip.transportType == 'bus' && trip.url.length > 0" class="btn theme-blue-2 hidden-xs hidden-sm pull-right" translate>SEARCH.TRIPS.BUTTON</a>
                              <a href="#/seat/{{trip.id}}/-1" ng-show="search.globalDirectDepartureTrips.length == 1 && trip.transportType == 'bus' && trip.url == null" class="btn theme-blue-2 hidden-xs hidden-sm pull-right" translate>SEARCH.TRIPS.BUTTON</a>
                              <div ng-class="{'disable-box':search.selectMixTrip}">
                                    <a href="" ng-show="outindex == 0 && search.globalDirectDepartureTrips.length > 1 && trip.transportType == 'bus'" class="btn theme-blue-2 hidden-xs hidden-sm pull-right" ng-click="search.firstStep(trip.id,1,trip.origin,trip.destination,trip.departure,trip.duration,trip.arrival)" translate>SEARCH.TRIPS.BUTTON</a>
                                    <a href="" ng-show="outindex == 0 && search.globalDirectDepartureTrips.length > 1 && trip.transportType == 'ship'" class="btn theme-blue-2 hidden-xs hidden-sm pull-right" ng-click="search.firstStep(trip.id,1,trip.origin,trip.destination,trip.departure,trip.duration,trip.arrival)" translate>SEARCH.TRIPS.BUTTON</a>
                              </div>

                              <div ng-class="{'disable-box':!search.selectMixTrip || search.dateIda_1 > trip.departure}">
                                  <a href="#/seat/{{search.idIda_1}}~{{trip.id}}/-1" ng-show="outindex == 1 && search.globalDirectDepartureTrips.length > 1 && trip.transportType == 'ship'" class="btn theme-blue-2 hidden-xs hidden-sm pull-right" translate>SEARCH.TRIPS.BUTTON</a>
                                  <a href="#/seat/{{search.idIda_1}}~{{trip.id}}/-1" ng-show="outindex == 1 && search.globalDirectDepartureTrips.length > 1 && trip.transportType == 'bus'" class="btn theme-blue-2 hidden-xs hidden-sm pull-right" translate>SEARCH.TRIPS.BUTTON</a>
                              </div>

                              <!-- BOTON PARA TREN-->
                              <a href="{{ trip.url }}" target="_blank" ng-show="trip.transportType == 'train'" class="btn theme-blue-2 hidden-xs hidden-sm pull-right" translate>SEARCH.TRIPS.BUTTON</a>
                              <strong class="price hidden-md hidden-lg">{{trip.price | currency : '' }} €</strong>
                            </div>
                        </div>
                    </div>
                    </div>  <!-- end .results-->
                </div>
            </div>
            <!-- end allTrips -->

            <div class="container" ng-show="search.scraperFlag || search.searching" style="margin-top: 80px; margin-bottom: 80px;">
                <div class="row">
                     <div class="modal-backdrop" style="background: rgba(0,0,0,0.5); padding-top: 50%; " ng-show="search.scraperFlag &&  search.trips.directDepartureTrips.length == 0 && !search.isMixedTrips">
                        <div class="modal show" id="weather-widget" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" data-backdrop="static"
                       data-keyboard="false" style="padding-top: 10%; ">
                            <div class="modal-dialog" role="document">
                                <div class="modal-content" style="background-color: #fff !important;">
                                    <div class="modal-body">
                                        <p class="text-center" translate>SEARCH.WEATHER.TITLE_2</p><br>
                                        <div class="flatWeatherPlugin today" style="background: #fff; padding: 10px;">
                                            <h2>{{ search.destination }}</h2>
                                            <div class="wiToday">
                                                <div class="wiIconGroup">
                                                    <div class="{{ search.weather.icon }}"></div>
                                                    <p class="wiText" style="text-transform: capitalize;">{{ search.weather.description }}</p>
                                                </div>
                                                <p class="wiTemperature">{{ search.weather.temp.current  }}</p>
                                            </div>
                                        </div>
                                        <br>
                                        <div class="row">
                                            <div class="col-md-12 text-center">
                                                <div id="weather_progress_scraper" style="padding: 10px 20px;"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-8 col-xs-12 text-center">
                        <p translate>SEARCH.WEATHER.TITLE_2</p><br>
                        <img src="https://cdn.api.voyhoy.com/loader.gif"  class="" alt="Buscando pasajes ..." />
                    </div>
                </div>
            </div>
            <div class="row  container-responsive" id="scraper-results" ng-show="search.scraperTrips.tickets.length > 0">
                <div class="col-xs-12 col-md-12 " >
                    <h5 class="hidden-xs hidden-sm hidden" ng-class="{'hidden-bus': !search.showBus}">
                        <span translate>SEARCH.SCRAPER.TITLE</span> <small><span translate>SEARCH.SCRAPER.MESSAGE</span></small> {{search.scraperTrips.tickets.length}} <span translate>SEARCH.TRIPS.RESULTS</span>
                    </h5>
                    <div class="new-results">
                        <div class="results list" id="trips_no_tickeables" >
                              <!-- <div class="row result nu" data-type="{{ trip.data.transportation }}" ng-class="{'hidden-bus': !search.showBus && trip.data.transportation == 'bus', 'hidden-plane': !search.showPlane  && trip.data.transportation == 'airplane'}" ng-repeat="trip in search.scraperTrips.tickets | orderBy:search.typeDeparture:search.reverseDeparture | companyScraperFilter:search.companies | seatScraperFilter:search.seats | priceScraperFilter: search.priceSlider.price">
                                <div class="row" >
                                    <div class="col-md-3 hidden-xs hidden-sm">
                                        <img ng-src="{{trip.data.enterprise__image}}" title="{{trip.data.enterprise__name}}" class="logo_small hidden-xs hidden-sm"><br>
                                        <p class="truncate"><small class="text-muted smallest-font">{{trip.data.enterprise__name}}</small></p>
                                    </div>

                                    <div class="col-md-3 col-xs-4 col-sm-4 tacm">
                                      <p class="vh-pull-right">
                                        <strong>{{ search.millisToUTCDate(trip.data.start * 1000) | date:'HH:mm'}}</strong>
                                        <small class="smallest-font text-theme-blue hidden-xs hidden-sm italic">{{search.trips.origin}}</small>
                                        <br>
                                        <small class="text-muted smallest-font hidden-xs hidden-sm capitalize terminals">{{trip.data.origin}}</small>
                                      </p>
                                    </div>

                                    <div class="col-xs-4 col-sm-4  visible-xs visible-sm  text-center">
                                        <p class="approximate-time text-muted smallest-font">{{ search.durationFormatted(trip.data.duration) }}</p>
                                    </div>

                                    <div class="col-md-3 col-xs-4 col-sm-4 tacm">
                                      <p class="vh-pull-right">
                                        <strong>{{ search.millisToUTCDate(trip.data.end * 1000) | date:'HH:mm'}}</strong>
                                        <small class="smallest-font text-theme-blue hidden-xs hidden-sm italic">{{search.trips.destination}}</small>
                                        <br>
                                        <small class="text-muted smallest-font hidden-xs hidden-sm capitalize terminals">{{trip.data.destination}}</small>
                                      </p>
                                    </div>

                                    <div class="col-md-3 hidden-xs hidden-sm">
                                        <p class="pull-right">
                                          <strong class="price-full">{{trip.data.price | currency : '' }} €</strong>
                                          <span class="pull-right type-service">
                                            <small class="text-muted smallest-font" style="margin-top: -10px;">{{trip.data.type__name}}</small>
                                          </span>
                                        </p>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-xs-4 col-sm-4 hidden-md hidden-lg">
                                        <img ng-src="{{trip.data.enterprise__image}}" title="{{trip.data.enterprise__name}}" class="logo_small">
                                        <br>
                                        <small class="text-muted hidden-xs hidden-sm" style="margin-left: 25px;">Directo</small>
                                    </div>
                                       
                                    <div class="col-md-6 col-xs-4 col-sm-4 tacm">
                                        <div class="arrow-box hidden-xs hidden-sm">
                                            <span class=" hidden-xs hidden-sm">{{ search.durationFormatted(trip.data.duration) }}</span> 
                                        </div>
                                           
                                        <ul class="timeline hidden-xs hidden-sm">
                                            <li class="li complete">
                                                 <div class="timestamp"></div>
                                                <div class="status no-scale"></div>
                                            </li>
                                            

                                        </ul> 
                                        <i class="fa fa-chevron-right hidden-xs hidden-sm"></i>   
                                        <small class="hidden-xs hidden-sm">Directo</small>
                                      
                                      <a href="{{trip.data.redirect}}" class="" target="_blank"><i class="fa fa-chevron-circle-down fa-2x text-theme-green hidden-md hidden-lg"></i></a>

                                    </div>

                                    <div class="col-md-3 hidden-xs hidden-sm">
                                        <i class="fa fa-2x pull-right text-theme-blue fa-trip-type hidden" ng-class="{'fa-bus': trip.transportType == 'bus','fa-train': trip.transportType == 'train'}" style="margin-left: 20px;margin-top: 10px;"></i>
                                    </div>

                                    <div class="col-md-3 col-xs-4 col-sm-4 tacm">
                                      <a href="{{trip.data.redirect}}" target="_blank" class="btn theme-blue-2 hidden-xs hidden-sm pull-right" translate>SEARCH.TRIPS.BUTTON</a>

                                      <strong class="price hidden-md hidden-lg">{{trip.data.price | currency : '' }} €</strong>
                                    </div>
                                </div>
                            </div> -->
                        </div>
                    </div>
                </div>
            </div>

            <div class="row  container-responsive" id="alternative-results" ng-show="search.globalAlternativeTrips.length > 0">
                <div class="col-xs-12 col-md-12" >
                    <h5 class="hidden-xs hidden-sm" >
                        Viajes Alternativos: {{search.globalAlternativeTrips.length}} resultados <span class="capitalize trip-date"></span>
                    </h5>
                    <div class="new-results" ng-repeat="trip in search.globalAlternativeTrips">
                        <div class="results list" >
                            <div class="row result result-iv" >

                                <div class="col-md-5 col-xs-4 alternativeBox">
                                    <span class="nowrap text-fucsia">{{trip.origin}}</span>
                                </div>

                                <div class="col-md-4 col-xs-4 alternativeBox">
                                    <span class="nowrap text-fucsia">{{trip.destination}}</span>
                                </div>

                                <div class="col-xs-4 nbt visible-xs">
                                    <a class="btn btn-block theme-fucsia-iv addTicket-button" ng-click="search.alternativeSearch(trip.origin,trip.countryOrigin,trip.destination,trip.countryDestination)">SELECCIONAR</a>
                                </div>

                                <div class="col-md-3 nbt hidden-xs alternativeBox">
                                    <a class="btn btn-block theme-fucsia-iv addTicket-button" ng-click="search.alternativeSearch(trip.origin,trip.countryOrigin,trip.destination,trip.countryDestination)">SELECCIONAR</a>
                                    <span class="hidden sort-price">${trip.price | currency : '' }</span>
                                    <span class="hidden sort-departure">${trip.departureTime.getTime()/1000}</span>
                                    <span class="hidden sort-company">${trip.companyRoute.company.name}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            </div> <!-- end columns results -->

            <!-- Modal -->
            <div class="modal fade" id="error-box" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" data-backdrop="static"
               data-keyboard="false">
               <div class="modal-dialog modal-lg" role="document">
                 <div class="modal-content" style="background-color: #F2DEDD !important;">
                   <div class="modal-header">
                       <button type="button" class="close" aria-label="Close" data-dismiss="modal"><span aria-hidden="true">&times;</span></button>
                       <h2>Error</h2>
                   </div>
                   <div class="modal-body">
                       <p>
                           {{search.msgError}}
                       </p>
                   </div>
                 </div>
               </div>
            </div>
            <div class="modal fade" id="error-cities" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" data-backdrop="static"
               data-keyboard="false">
               <div class="modal-dialog modal-lg" role="document">
                 <div class="modal-content" style="background-color: #F2DEDD !important;">
                   <div class="modal-header">
                       <button type="button" class="close" aria-label="Close" data-dismiss="modal"><span aria-hidden="true">&times;</span></button>
                       <h2>Error</h2>
                   </div>
                   <div class="modal-body">
                       <p>
                           Revise su seleccion de ciudades
                       </p>
                   </div>
                 </div>
               </div>
            </div>
            <div class="modal fade" id="error-date" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" data-backdrop="static"
               data-keyboard="false">
               <div class="modal-dialog modal-lg" role="document">
                 <div class="modal-content" style="background-color: #F2DEDD !important;">
                   <div class="modal-header">
                       <button type="button" class="close" aria-label="Close" data-dismiss="modal"><span aria-hidden="true">&times;</span></button>
                       <h2>Error</h2>
                   </div>
                   <div class="modal-body">
                       <p>
                           Revise su seleccion de fechas
                       </p>
                   </div>
                 </div>
               </div>
            </div>
        </div>
    </div>
</div>
